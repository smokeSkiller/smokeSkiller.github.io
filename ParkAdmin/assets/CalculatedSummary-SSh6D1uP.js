import{B as f}from"./BaseButton-C8-CVVQ8.js";import{_ as V,e as C,i as c,D as x,c as d,o as u,a as e,b as S,t as o,w as L,d as M,F as H,j as y,n as Z}from"./index-CkweRrl9.js";const K="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='4.5'%20y='4.5'%20width='11'%20height='11'%20rx='1.5'%20stroke='%23343434'/%3e%3cpath%20d='M12.0881%2012.2585V13H7.94602V12.2585H12.0881ZM11.8835%206.59517V7.33665H7.79261V6.59517H11.8835ZM10.6435%209.76562V9.85511L8.13778%2013H7.58807V12.3352L9.67188%209.81676L7.58807%207.27273V6.59517H8.13778L10.6435%209.76562Z'%20fill='%23343434'/%3e%3c/svg%3e",k="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.5%205.00008C1.5%203.81557%202.35831%202.84833%203.51454%202.20598C4.6877%201.55422%206.27453%201.16675%208%201.16675C9.72547%201.16675%2011.3123%201.55422%2012.4855%202.20598C13.6417%202.84833%2014.5%203.81557%2014.5%205.00008V8.00008C14.5%208.00008%2014.5%208.00009%2014.5%208.00008V11.0001C14.5%2012.1846%2013.6417%2013.1518%2012.4855%2013.7942C11.3123%2014.4459%209.72547%2014.8334%208%2014.8334C6.27453%2014.8334%204.6877%2014.4459%203.51454%2013.7942C2.35831%2013.1518%201.5%2012.1846%201.5%2011.0001V5.00008ZM4.00018%203.08014C2.98483%203.64422%202.5%204.34364%202.5%205.00008C2.5%205.65652%202.98483%206.35594%204.00018%206.92002C4.99859%207.4747%206.41176%207.83342%208%207.83342C9.58824%207.83342%2011.0014%207.4747%2011.9998%206.92002C13.015%206.35605%2013.4998%205.65678%2013.5%205.00045C13.5%205.00033%2013.5%205.00057%2013.5%205.00045C13.5%204.34401%2013.0152%203.64422%2011.9998%203.08014C11.0014%202.52546%209.58824%202.16675%208%202.16675C6.41176%202.16675%204.99859%202.52546%204.00018%203.08014ZM13.5%207.06784C13.2062%207.34187%2012.8616%207.58522%2012.4855%207.79418C11.3123%208.44594%209.72547%208.83342%208%208.83342C6.27453%208.83342%204.6877%208.44594%203.51454%207.79418C3.1384%207.58522%202.79379%207.34187%202.5%207.06784V8.00008C2.5%208.65652%202.98483%209.35594%204.00018%209.92003C4.99859%2010.4747%206.41176%2010.8334%208%2010.8334C9.58824%2010.8334%2011.0014%2010.4747%2011.9998%209.92003C13.0152%209.35594%2013.5%208.65652%2013.5%208.00008V7.06784ZM13.5%2010.0678V11.0001C13.5%2011.6565%2013.0152%2012.3559%2011.9998%2012.92C11.0014%2013.4747%209.58824%2013.8334%208%2013.8334C6.41176%2013.8334%204.99859%2013.4747%204.00018%2012.92C2.98483%2012.3559%202.5%2011.6565%202.5%2011.0001V10.0678C2.79379%2010.3419%203.1384%2010.5852%203.51454%2010.7942C4.6877%2011.4459%206.27453%2011.8334%208%2011.8334C9.72547%2011.8334%2011.3123%2011.4459%2012.4855%2010.7942C12.8616%2010.5852%2013.2062%2010.3419%2013.5%2010.0678Z'%20fill='%23CCCCCC'/%3e%3c/svg%3e",b="data:image/svg+xml,%3csvg%20width='11'%20height='13'%20viewBox='0%200%2011%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%201H2V2.82487C2.00009%203.50524%202.31978%204.14604%202.86328%204.55534L4.19661%205.55925C4.96832%206.14032%206.03168%206.14032%206.80339%205.55925L8.13672%204.55534C8.68022%204.14604%208.99992%203.50525%209%202.82487V1ZM10%202.82487C9.99992%203.81932%209.53267%204.75594%208.73828%205.35417L7.40495%206.35807C6.27707%207.20734%204.72294%207.20734%203.59505%206.35807L2.26172%205.35417C1.46733%204.75594%201.00009%203.81932%201%202.82487V0H10V2.82487Z'%20fill='%23CCCCCC'/%3e%3cpath%20d='M9%2012H2V10.1751C2.00009%209.49476%202.31978%208.85396%202.86328%208.44466L4.19661%207.44076C4.96832%206.85968%206.03168%206.85968%206.80339%207.44076L8.13672%208.44466C8.68022%208.85396%208.99992%209.49475%209%2010.1751V12ZM10%2010.1751C9.99992%209.18068%209.53267%208.24406%208.73828%207.64583L7.40495%206.64193C6.27707%205.79266%204.72294%205.79266%203.59505%206.64193L2.26172%207.64583C1.46733%208.24406%201.00009%209.18068%201%2010.1751V13H10V10.1751Z'%20fill='%23CCCCCC'/%3e%3cpath%20d='M10.5%200C10.7761%200%2011%200.223858%2011%200.5C11%200.776142%2010.7761%201%2010.5%201H0.5C0.223858%201%200%200.776142%200%200.5C0%200.223858%200.223858%200%200.5%200H10.5Z'%20fill='%23CCCCCC'/%3e%3cpath%20d='M10.5%2012C10.7761%2012%2011%2012.2239%2011%2012.5C11%2012.7761%2010.7761%2013%2010.5%2013H0.5C0.223858%2013%200%2012.7761%200%2012.5C0%2012.2239%200.223858%2012%200.5%2012H10.5Z'%20fill='%23CCCCCC'/%3e%3c/svg%3e",B="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.875%208.45455H4.44318V7.51705H8.875C9.28409%207.51705%209.62216%207.44602%209.8892%207.30398C10.1563%207.15909%2010.3551%206.96307%2010.4858%206.71591C10.6165%206.46591%2010.6818%206.18182%2010.6818%205.86364C10.6818%205.54545%2010.6165%205.26278%2010.4858%205.01562C10.3551%204.76562%2010.1563%204.5696%209.8892%204.42756C9.62216%204.28267%209.28409%204.21023%208.875%204.21023H6.88068V12H5.82386V3.27273H8.875C9.52273%203.27273%2010.0568%203.39062%2010.4773%203.62642C10.8977%203.86222%2011.2102%204.17614%2011.4148%204.56818C11.6193%204.96023%2011.7216%205.39205%2011.7216%205.86364C11.7216%206.33523%2011.6193%206.76705%2011.4148%207.15909C11.2102%207.55114%2010.8977%207.86506%2010.4773%208.10085C10.0568%208.33665%209.52273%208.45455%208.875%208.45455ZM8.80682%209.27273V10.2102H4.44318V9.27273H8.80682Z'%20fill='%23CCCCCC'/%3e%3ccircle%20cx='7.5'%20cy='7.5'%20r='7'%20stroke='%23CCCCCC'/%3e%3c/svg%3e",D={class:"calculated-summary"},F={class:"top-row"},N={class:"d-flex justify-content-between w-100"},T={class:"column"},$={class:"value"},j={class:"column"},A={class:"value"},I={class:"column"},R={class:"value"},U={class:"big-column"},z={class:"inner"},E={class:"name"},P={class:"progress-bar"},W={class:"price"},q={__name:"CalculatedSummary",props:{selectedText:{type:String},totalSum:{type:Number,default:0},averageLength:{type:Number,default:0},averageSum:{type:Number,default:0},items:{type:Array,default:()=>[]}},setup(m){const s=m,n=C(s.totalSum),i=C(s.averageLength),r=C(s.averageSum),g=c(()=>n.value.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/,/g,".")),v=c(()=>{const a=Math.floor(i.value/3600).toString().padStart(2,"0"),t=Math.floor(i.value%3600/60).toString().padStart(2,"0"),l=(i.value%60).toString().padStart(2,"0");return`${a}:${t}:${l}`}),h=c(()=>r.value.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/,/g,".")),p=(a,t)=>Math.min(a/t*100,100)+"%",_=()=>{n.value=s.totalSum==0?s.items.reduce((a,t)=>a+t.total_sum,0):s.totalSum,i.value=s.averageLength==0?Math.floor(s.items.reduce((a,t)=>a+t.average_length,0)/s.items.length):s.averageLength,r.value=s.averageSum==0?Math.floor(s.items.reduce((a,t)=>a+t.average_sum,0)/s.items.length):s.averageSum,s.items.length==0&&(n.value=0,i.value=0,r.value=0)};return x(()=>s.items,a=>{console.log("Items changed:",a),_()},{deep:!0,immediate:!0}),(a,t)=>(u(),d("div",D,[e("div",F,[e("span",null,"Выбрано: "+o(m.selectedText),1),S(f,{onClick:t[0]||(t[0]=l=>a.$emit("reset"))},{default:L(()=>[...t[1]||(t[1]=[M(" Сбросить ",-1),e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8 8L16 16",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M16 8L8 16",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),_:1})]),t[5]||(t[5]=e("h3",null,"Общая сумма по выбранным объектам:",-1)),e("div",N,[e("div",T,[t[2]||(t[2]=e("div",{class:"column-label"},[e("span",null,"Общая сумма"),e("img",{src:k})],-1)),e("div",$,o(g.value)+" ₽",1)]),e("div",j,[t[3]||(t[3]=e("div",{class:"column-label"},[e("span",null,"Средняя длительность"),e("img",{src:b})],-1)),e("div",A,o(v.value),1)]),e("div",I,[t[4]||(t[4]=e("div",{class:"column-label"},[e("span",null,"Средний чек"),e("img",{src:B})],-1)),e("div",R,o(h.value)+" ₽",1)]),e("div",U,[e("div",z,[(u(!0),d(H,null,y(s.items,(l,w)=>(u(),d("div",{class:"item",key:w},[e("span",E,o(l.name),1),e("div",P,[e("div",{class:"progress",style:Z({width:p(l.average_sum,n.value)})},null,4)]),e("div",W,o(l.average_sum)+" ₽",1)]))),128))])])])]))}},O=V(q,[["__scopeId","data-v-02f3d098"]]);export{O as C,K as _};
