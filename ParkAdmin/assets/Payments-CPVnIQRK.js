import{g as O,o as b,s as Ie,w as i,a as t,b as o,t as F,d as r,_ as oe,e as q,c as E,j as z,F as H,u as l,A as U,B as Le,l as Ze,D as Ke}from"./index-BWF_qH93.js";import{_ as J,a as ze,b as Ge,P as Je,e as N,d as Qe,f as We}from"./vue-3-slider-component-DVLLiOr3.js";import{_ as Xe}from"./unpin-icon-iCo7ue74.js";import{_ as B}from"./plus-icon-lxHPDhbU.js";import{T as G}from"./TableModal-p6TpcjEn.js";import{c as S,o as $}from"./modal-DRTCzFhK.js";import{k as Ye,O as ce,T as _e}from"./CustomOpenIndicator-BQQZUi6w.js";import{_ as he,C as el}from"./summary-icon-q8Svinap.js";import{B as g}from"./BaseButton-BUPZcaam.js";import{F as f}from"./FormField-5cKzPise.js";import{_ as m}from"./FormSelectField-BrAB1vmC.js";import{_ as P}from"./SecondaryTable-DySUWM44.js";import{_ as ll}from"./close-icon-DcnZ6QH4.js";import{_ as tl,D as sl,a as ol}from"./useObjectsEditor-1kBT4oY3.js";import{u as nl,a as il}from"./usePayments-D2WGjLNQ.js";import"./FilterSortDate-CPNclfv2.js";import"./useClientsEditor-Bl1EVYMt.js";const dl={__name:"PaymentsToolbar",props:{hasSelection:Boolean,selectedCount:Number,statusOptions:Array},emits:["deselect-all","delete-selected","open-mass-editor","change-status","calculate-summary"],setup(p,{emit:T}){const y=T;return(V,n)=>(b(),O(Je,null,Ie({right:i(()=>[o(g,{class:"small-btn",onClick:n[5]||(n[5]=C=>y("open-settings"))},{default:i(()=>[...n[11]||(n[11]=[t("img",{src:ze},null,-1)])]),_:1}),o(g,{class:"small-btn"},{default:i(()=>[...n[12]||(n[12]=[t("img",{src:Ge},null,-1)])]),_:1})]),_:2},[p.hasSelection?{name:"left",fn:i(()=>[t("div",{class:"selected-count controller-item",onClick:n[0]||(n[0]=C=>y("deselect-all"))},[t("span",null,"Выбрано: "+F(p.selectedCount),1),o(g,{class:"btn-filled"},{default:i(()=>[...n[6]||(n[6]=[t("img",{src:ll},null,-1)])]),_:1})]),t("div",{class:"delete-row controller-item",onClick:n[1]||(n[1]=C=>y("delete-selected"))},[...n[7]||(n[7]=[t("img",{src:J},null,-1),r(" Удалить ",-1)])]),t("div",{class:"edit controller-item",onClick:n[2]||(n[2]=C=>y("open-mass-editor"))},[...n[8]||(n[8]=[t("img",{src:tl},null,-1),r(" Редактировать ",-1)])]),o(sl,{class:"change-status controller-item","dropdown-list":p.statusOptions,onChange:n[3]||(n[3]=C=>y("change-status",C))},{default:i(()=>[...n[9]||(n[9]=[t("img",{src:ol},null,-1),r(" Изменить статус ",-1)])]),_:1},8,["dropdown-list"]),t("div",{class:"summary controller-item",onClick:n[4]||(n[4]=C=>y("calculate-summary"))},[...n[10]||(n[10]=[t("img",{src:he},null,-1),r(" Сумма ",-1)])])]),key:"0"}:void 0]),1024))}},al={action:"#"},rl=["onClick"],ul=Object.assign({inheritAttrs:!1},{__name:"PaymentsMassEditor",props:{tabs:Array,customClass:String,headerTitle:String,massEditorFields:Array,massEditorParams:Array},emits:["close-click","save-click","add-mass-editor-fields-row","remove-mass-editor-field"],setup(p,{expose:T,emit:y}){const V=y,n=q(null);return T({open:()=>n.value.open(),close:()=>n.value.close()}),(C,u)=>(b(),O(G,{tabs:p.tabs,"custom-class":p.customClass,"header-title":p.headerTitle,onSaveClick:u[1]||(u[1]=a=>V("save-click")),onCloseClick:u[2]||(u[2]=a=>V("close-click")),ref_key:"massEditorRef",ref:n},{edit:i(()=>[t("form",al,[u[5]||(u[5]=t("h3",null,"Редактирование выбранных оплат",-1)),u[6]||(u[6]=t("div",{class:"d-flex"},[t("span",{class:"fields-label"},"Параметр"),t("span",{class:"fields-label"},"До изменения"),t("span",{class:"fields-label"},"После изменения")],-1)),(b(!0),E(H,null,z(p.massEditorFields,(a,w)=>(b(),E("div",{class:"fields-row",key:w},[o(m,{options:p.massEditorParams,width:160},null,8,["options"]),o(m,{options:p.massEditorParams,width:160},null,8,["options"]),o(m,{options:p.massEditorParams,width:160},null,8,["options"]),t("button",{type:"button",class:"delete-row",onClick:I=>V("remove-mass-editor-field",w)},[...u[3]||(u[3]=[t("img",{src:J},null,-1)])],8,rl)]))),128)),t("button",{type:"button",class:"add-fields-btn",onClick:u[0]||(u[0]=a=>V("add-mass-editor-fields-row"))},[...u[4]||(u[4]=[t("img",{src:B},null,-1),r(" Добавить изменения ",-1)])])])]),_:1},8,["tabs","custom-class","header-title"]))}}),ml=oe(ul,[["__scopeId","data-v-baecf587"]]),pl={class:"w-100",style:{margin:"20px 0"}},fl={class:"row refund-select"},bl=Object.assign({inheritAttrs:!1},{__name:"PaymentsRefund",props:{refundType:String,refundTypeOptions:Array},setup(p,{expose:T}){const y=p,V=q(null),n=q(y.refundType),C=q(!0);return T({open:()=>V.value.open(),close:()=>V.value.close()}),(u,a)=>(b(),O(N,{"custom-class":"refund-payment-popup","confirm-text":"Подтвердить возврат","cancel-text":"Отмена","disabled-confirm-btn":C.value,onCancel:a[2]||(a[2]=w=>l(S)(V.value)),onConfirm:a[3]||(a[3]=w=>console.log("Возврат подтвержден")),ref_key:"refundPopupRef",ref:V},{default:i(()=>[a[5]||(a[5]=t("h2",{class:"popup-title"},"Возврат денежных средств",-1)),a[6]||(a[6]=t("div",{class:"row"},[t("p",null,"Сумма к возврату"),t("p",null,[t("b",null,"450 ₽")])],-1)),a[7]||(a[7]=t("div",{class:"row"},[t("p",null,"Номер чека"),t("p",null,[t("b",null,"12345")])],-1)),t("div",pl,[t("div",fl,[a[4]||(a[4]=t("p",null,"Причина возврата",-1)),o(l(Ye),{modelValue:n.value,"onUpdate:modelValue":[a[0]||(a[0]=w=>n.value=w),a[1]||(a[1]=w=>C.value=!1)],placeholder:"Выберите из списка",options:p.refundTypeOptions,clearable:!1,searchable:!1,components:{OpenIndicator:ce}},null,8,["modelValue","options","components"])])]),a[8]||(a[8]=t("div",{class:"comment"},[t("label",{for:"refund-comment"},"Комментарий:"),t("textarea",{name:"refund-comment",id:"refund-comment"})],-1))]),_:1},8,["disabled-confirm-btn"]))}}),vl={class:"page"},yl={class:"page-content"},gl={action:"#"},Vl={class:"fields-group"},Cl={class:"field-outer"},kl={class:"fields-group"},xl={class:"field-outer"},$l={class:"fields-group"},wl={class:"field-outer"},Rl={class:"field-outer"},El={class:"fields-group"},Sl={class:"field-outer"},Tl={class:"field-outer"},Ol={class:"fields-group"},jl={class:"field-outer"},Ul={class:"contact-table-outer"},Pl={class:"pinned-objects"},Ml={class:"name"},Al={class:"d-flex align-items-center"},Dl=["onClick"],Fl={class:"d-flex",style:{"margin-top":"20px"}},ql={class:"fields-group"},Hl={class:"banks"},Nl={class:"d-flex justify-content-between align-items-center w-100"},Bl={class:"settings"},Il={class:"d-flex align-items-end",style:{"margin-top":"10px"}},Ll={class:"field"},Zl={class:"field"},Kl={class:"field"},zl={class:"history"},Gl={class:"fields-group"},Jl={class:"field-outer"},Ql={class:"field-outer"},Wl={class:"field-outer"},Xl={class:"email"},Yl={class:"d-flex align-items-center flex-wrap"},cl={class:"text"},_l=["onClick"],hl={class:"popup-title"},et={__name:"Payments",setup(p){const{paymentsStore:T,mainTableRef:y,tableHeader:V,tableContent:n,tableSettingsHeader:C,hasSelection:u,selectedCount:a,selectedRowsName:w,deleteSelectedPopupRef:I,tableSettingsRef:Q,statusOptionsList:ne,showCalculatedSummary:L,summaryItems:ie,massEditorRef:W,massEditorTabs:de,massEditorParams:ae,massEditorFields:X,paymentDetailsRef:Y,refundPopupRef:c,refundType:re,refundTypeOptions:ue,objectEditorRef:j,objectContactsTableRef:_,objectEditorTabs:me,objectEditorFields:d,objectEditorTableColumns:pe,objectEditorTableContent:fe,objectHasEdited:be,clientEditor:k,clientEditorRef:Z,requisitesTableRef:h,financesHistoryTableRef:ve,docsTableRef:ye,editorTabs:ge,editorData:x,clientHasEdited:Ve,editorContactColumns:Ce,editorContactContent:ke,editorPinnedObjects:xe,objectsAllNames:$e,showSearchObject:ee,editorRequisitesColumns:we,editorRequisitesContent:Re,finances:R,financeHistoryColumns:Ee,financeHistoryContent:Se,reports:v,editorDocsColumns:Te,editorDocsContent:Oe,addReportsEmail:le,pinObject:je,unpinObject:Ue,addTableRow:te,savePopupRef:M,deleteSinglePopupRef:A,onSelectionChanged:Pe,deselectAll:se,openDeletePopup:Me,deleteSelected:Ae,saveConfirmClick:K,openMassEditor:De,addMassEditorFieldsRow:Fe,addModalTableRow:qe,changeTableSettings:He,calculateSummaryItems:Ne}=nl();return(Be,e)=>(b(),E(H,null,[t("main",vl,[o(_e,null,{default:i(()=>[o(g,{onClick:e[0]||(e[0]=s=>l(Le).push("/sessions"))},{default:i(()=>[...e[58]||(e[58]=[r("Сессии",-1)])]),_:1}),o(g,{class:"btn-filled"},{default:i(()=>[...e[59]||(e[59]=[r("Оплаты",-1)])]),_:1})]),_:1}),t("div",yl,[l(L)?U("",!0):(b(),O(dl,{key:0,"has-selection":l(u),"selected-count":l(a),"status-options":l(ne),onDeselectAll:l(se),onDeleteSelected:l(Me),onOpenMassEditor:l(De),onChangeStatus:e[1]||(e[1]=s=>console.log("Status:",s)),onCalculateSummary:l(Ne),onOpenSettings:e[2]||(e[2]=s=>l($)(l(Q)))},null,8,["has-selection","selected-count","status-options","onDeselectAll","onDeleteSelected","onOpenMassEditor","onCalculateSummary"])),l(L)?(b(),O(el,{key:1,"selected-text":`${l(a)} оплаты`,"title-text":"Данные по выбранным оплатам:",items:l(ie),onReset:e[3]||(e[3]=s=>(L.value=!1,l(se)()))},null,8,["selected-text","items"])):U("",!0),o(Qe,{style:{"margin-top":"20px"},columns:l(V),data:l(n),onRowDblclick:e[4]||(e[4]=s=>l($)(l(Y))),onSelectionChanged:l(Pe),ref_key:"mainTableRef",ref:y},null,8,["columns","data","onSelectionChanged"])])]),o(We,{"table-columns":l(C),onChange:e[5]||(e[5]=s=>l(He)(s,l(T),l(y))),ref_key:"tableSettingsRef",ref:Q},null,8,["table-columns"]),o(ml,{tabs:l(de),"custom-class":"mass-editor-modal","header-title":"Выбрано: 3","mass-editor-fields":l(X),"mass-editor-params":l(ae),onSaveClick:e[6]||(e[6]=s=>console.log("Changes saved!")),onCloseClick:e[7]||(e[7]=s=>l(S)(l(W))),onAddMassEditorFieldsRow:l(Fe),onRemoveMassEditorField:e[8]||(e[8]=s=>l(X).splice(s,1)),ref_key:"massEditorRef",ref:W},null,8,["tabs","mass-editor-fields","mass-editor-params","onAddMassEditorFieldsRow"]),o(il,{"inner-width":"515","custom-class":"payment-details",onOpenObjectsEditor:e[9]||(e[9]=s=>l($)(l(j))),onOpenClientsEditor:e[10]||(e[10]=s=>l($)(l(Z))),onOpenRefundPopup:e[11]||(e[11]=s=>l($)(l(c))),ref_key:"paymentDetailsRef",ref:Y},null,512),o(G,{"header-title":"Парковочный объект: “ТЦ Ромашка”",tabs:l(me),"inner-width":870,"close-on-overlay-click":!1,"disabled-save-btn":!l(be),onOverlayClick:e[25]||(e[25]=s=>l($)(l(M))),onSaveClick:l(K),onCloseClick:e[26]||(e[26]=s=>l(S)(l(j))),ref_key:"objectEditorRef",ref:j},{data:i(()=>[t("form",gl,[e[66]||(e[66]=t("h3",null,"Данные о компании",-1)),t("div",Vl,[o(f,{items:l(d).clients,name:"client",modelValue:l(d).client,"onUpdate:modelValue":e[12]||(e[12]=s=>l(d).client=s),label:"Клиент"},null,8,["items","modelValue"]),o(f,{name:"object",modelValue:l(d).object,"onUpdate:modelValue":e[13]||(e[13]=s=>l(d).object=s),label:"Объект"},null,8,["modelValue"]),t("div",Cl,[e[60]||(e[60]=t("label",null,"Статус",-1)),o(m,{modelValue:l(d).status,"onUpdate:modelValue":e[14]||(e[14]=s=>l(d).status=s),options:l(d).statusOptions},null,8,["modelValue","options"])]),o(f,{name:"domain",modelValue:l(d).domain,"onUpdate:modelValue":e[15]||(e[15]=s=>l(d).domain=s),label:"Домен объекта"},null,8,["modelValue"])]),t("div",kl,[t("div",xl,[e[61]||(e[61]=t("label",null,[r("Фиск. "),t("br"),r(" сервис")],-1)),o(m,{modelValue:l(d).fiscalService,"onUpdate:modelValue":e[16]||(e[16]=s=>l(d).fiscalService=s),options:l(d).fiscalServices,name:"fiscal-service"},null,8,["modelValue","options"])]),o(f,{name:"check-email",modelValue:l(d).checkEmail,"onUpdate:modelValue":e[17]||(e[17]=s=>l(d).checkEmail=s),label:"E-mail <br> для чеков"},null,8,["modelValue"])]),t("div",$l,[t("div",wl,[e[62]||(e[62]=t("label",null,"Страна",-1)),o(m,{modelValue:l(d).country,"onUpdate:modelValue":e[18]||(e[18]=s=>l(d).country=s),options:l(d).countries,name:"country"},null,8,["modelValue","options"])]),o(f,{name:"address",modelValue:l(d).address,"onUpdate:modelValue":e[19]||(e[19]=s=>l(d).address=s),label:"Адрес"},null,8,["modelValue"]),t("div",Rl,[e[63]||(e[63]=t("label",null,"Час. пояс",-1)),o(m,{modelValue:l(d).timeZone,"onUpdate:modelValue":e[20]||(e[20]=s=>l(d).timeZone=s),options:l(d).timeZones,name:"timezone"},null,8,["modelValue","options"])])]),t("div",El,[t("div",Sl,[e[64]||(e[64]=t("label",null,"Валюта",-1)),o(m,{modelValue:l(d).currency,"onUpdate:modelValue":e[21]||(e[21]=s=>l(d).currency=s),options:l(d).currencies,name:"currency"},null,8,["modelValue","options"])]),t("div",Tl,[e[65]||(e[65]=t("label",null,"Язык",-1)),o(m,{modelValue:l(d).lang,"onUpdate:modelValue":e[22]||(e[22]=s=>l(d).lang=s),options:l(d).langs,name:"lang"},null,8,["modelValue","options"])])])])]),contact:i(()=>[e[68]||(e[68]=t("h3",null,"Контактные лица",-1)),o(P,{style:{"margin-top":"20px"},columns:l(pe),data:l(fe),ref_key:"objectContactsTableRef",ref:_},null,8,["columns","data"]),o(g,{style:{"margin-top":"20px"},onClick:e[23]||(e[23]=s=>l(qe)(l(_)))},{default:i(()=>[...e[67]||(e[67]=[r("Добавить",-1)])]),_:1})]),"sidebar-bottom":i(()=>[o(g,{class:"remove-object-btn",onClick:e[24]||(e[24]=s=>l($)(l(A)))},{default:i(()=>[...e[69]||(e[69]=[t("img",{src:J},null,-1),r(" Удалить объект ",-1)])]),_:1})]),_:1},8,["tabs","disabled-save-btn","onSaveClick"]),o(G,{"custom-class":"client-editor","header-title":"Парковочный объект: “ТЦ Ромашка”",tabs:l(ge),"inner-width":870,"close-on-overlay-click":!1,"disabled-save-btn":!l(Ve),onOverlayClick:e[52]||(e[52]=s=>l($)(l(M))),onSaveClick:l(K),onCloseClick:e[53]||(e[53]=s=>l(S)(l(Z))),ref_key:"clientEditorRef",ref:Z},{data:i(()=>[e[71]||(e[71]=t("h3",{style:{"margin-bottom":"30px"}},"Данные о компании",-1)),t("div",Ol,[o(f,{name:"name",modelValue:l(x).name,"onUpdate:modelValue":e[27]||(e[27]=s=>l(x).name=s),label:"Название"},null,8,["modelValue"]),o(f,{name:"phone",modelValue:l(x).phone,"onUpdate:modelValue":e[28]||(e[28]=s=>l(x).phone=s),label:"Телефон"},null,8,["modelValue"]),o(f,{name:"email",modelValue:l(x).email,"onUpdate:modelValue":e[29]||(e[29]=s=>l(x).email=s),label:"E-mail"},null,8,["modelValue"]),o(f,{name:"address",modelValue:l(x).address,"onUpdate:modelValue":e[30]||(e[30]=s=>l(x).address=s),label:"Адрес"},null,8,["modelValue"]),t("div",jl,[e[70]||(e[70]=t("label",null,[r("Статус "),t("br"),r(" клиента")],-1)),o(m,{modelValue:l(x).status,"onUpdate:modelValue":e[31]||(e[31]=s=>l(x).status=s),options:l(x).statusOptions,name:"client-status"},null,8,["modelValue","options"])])])]),contacts:i(()=>[e[74]||(e[74]=t("h3",{style:{"margin-bottom":"30px"}},"Контактные лица",-1)),t("div",Ul,[o(P,{style:{"margin-top":"20px"},columns:l(Ce),data:l(ke),id:"client-contact-table",ref:"contactsTableRef"},null,8,["columns","data"]),e[72]||(e[72]=t("div",{class:"comment-popup"},[t("input",{type:"text",placeholder:"Ваш комментарий"})],-1))]),o(g,{class:"btn-filled",onClick:e[32]||(e[32]=s=>l(te)(Be.contactsTableRef)),style:{"margin-top":"20px"}},{default:i(()=>[...e[73]||(e[73]=[r(" Добавить новый контакт ",-1)])]),_:1})]),"pinned-objects":i(()=>[e[79]||(e[79]=t("h3",{style:{"margin-bottom":"30px"}},"Объекты ООО “ШишмаОйл”",-1)),t("div",Pl,[t("ul",null,[(b(!0),E(H,null,z(l(xe),s=>(b(),E("li",{key:s.id},[t("span",Ml,F(s.name),1),t("div",Al,[t("button",{class:"unpin-btn",onClick:D=>l(Ue)(s.id)},[...e[75]||(e[75]=[t("img",{src:Xe},null,-1)])],8,Dl),t("button",{class:"open-btn",onClick:e[33]||(e[33]=D=>l($)(l(j)))},[...e[76]||(e[76]=[t("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6.5 0.5H2.5C1.39543 0.5 0.5 1.39543 0.5 2.5V12.5C0.5 13.6046 1.39543 14.5 2.5 14.5H12.5C13.6046 14.5 14.5 13.6046 14.5 12.5V7.75M14.5 0.5H10.5M14.5 0.5V4.5M14.5 0.5L4.5 10.5",stroke:"#343434","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])])]))),128))]),l(ee)?(b(),O(f,{key:0,name:"search-object",modelValue:l(k).searchObject,"onUpdate:modelValue":e[34]||(e[34]=s=>l(k).searchObject=s),label:"Объект",items:l($e),style:{"margin-top":"20px"},onSelect:l(je)},null,8,["modelValue","items","onSelect"])):U("",!0),t("div",Fl,[o(g,{class:"btn-filled pin-btn",onClick:e[35]||(e[35]=s=>ee.value=!0)},{default:i(()=>[...e[77]||(e[77]=[r(" Прикрепить объект ",-1)])]),_:1}),o(g,{class:"add-btn",onClick:e[36]||(e[36]=s=>l($)(l(j)))},{default:i(()=>[...e[78]||(e[78]=[t("img",{src:B},null,-1),r(" Добавить объект ",-1)])]),_:1})])])]),requisites:i(()=>[e[82]||(e[82]=t("h3",{style:{"margin-bottom":"30px"}},"Реквизиты юр.лица",-1)),t("div",ql,[o(f,{modelValue:l(k).requisites.billingName,"onUpdate:modelValue":e[37]||(e[37]=s=>l(k).requisites.billingName=s),label:"Наименование юр.лица","label-width":"120"},null,8,["modelValue"]),o(f,{modelValue:l(k).requisites.ceoName,"onUpdate:modelValue":e[38]||(e[38]=s=>l(k).requisites.ceoName=s),label:"ФИО ген. директора","label-width":"120"},null,8,["modelValue"]),o(f,{modelValue:l(k).requisites.billingAddress,"onUpdate:modelValue":e[39]||(e[39]=s=>l(k).requisites.billingAddress=s),label:"Юр.адрес","label-width":"120"},null,8,["modelValue"]),o(f,{modelValue:l(k).requisites.inn,"onUpdate:modelValue":e[40]||(e[40]=s=>l(k).requisites.inn=s),label:"ИНН","label-width":"120"},null,8,["modelValue"]),o(f,{modelValue:l(k).requisites.kpp,"onUpdate:modelValue":e[41]||(e[41]=s=>l(k).requisites.kpp=s),label:"КПП","label-width":"120"},null,8,["modelValue"])]),t("div",Hl,[t("div",Nl,[e[81]||(e[81]=t("h3",null,"Банковские счета",-1)),o(g,{class:"btn-filled add-bank-btn",onClick:e[42]||(e[42]=s=>l(te)(l(h)))},{default:i(()=>[...e[80]||(e[80]=[t("img",{src:B},null,-1),r(" Добавить счёт ",-1)])]),_:1})]),o(P,{style:{"margin-top":"20px"},columns:l(we),data:l(Re),ref_key:"requisitesTableRef",ref:h},null,8,["columns","data"])])]),finances:i(()=>[e[91]||(e[91]=t("div",{class:"conditions"},[t("h3",{style:{"margin-bottom":"20px"}},"Условия"),t("div",{class:"row"},[t("span",{class:"text"},"Тип комиссии"),t("span",{class:"text"},[t("b",null,"Процент от оборота")])]),t("div",{class:"row"},[t("span",{class:"text"},"Ставка"),t("span",{class:"text"},[t("b",null,"15%")])])],-1)),t("div",Bl,[e[87]||(e[87]=t("h3",{style:{"margin-bottom":"25px"}},"Настройки",-1)),e[88]||(e[88]=t("p",{class:"text"},"Выплачивать каждые:",-1)),t("div",Il,[t("div",Ll,[e[83]||(e[83]=t("span",{class:"label"},"Интервал",-1)),o(m,{modelValue:l(R).interval,"onUpdate:modelValue":e[43]||(e[43]=s=>l(R).interval=s),options:l(R).intervalOptions,width:"45"},null,8,["modelValue","options"])]),t("div",Zl,[e[84]||(e[84]=t("span",{class:"label"},"Период",-1)),o(m,{modelValue:l(R).period,"onUpdate:modelValue":e[44]||(e[44]=s=>l(R).period=s),options:l(R).periodOptions,width:"80"},null,8,["modelValue","options"])]),t("div",Kl,[e[85]||(e[85]=t("span",{class:"label"},"Число",-1)),o(m,{modelValue:l(R).number,"onUpdate:modelValue":e[45]||(e[45]=s=>l(R).number=s),options:l(R).numberOptions,width:"60"},null,8,["modelValue","options"])]),o(g,{class:"btn-filled settings-btn"},{default:i(()=>[...e[86]||(e[86]=[r("Применить",-1)])]),_:1})]),e[89]||(e[89]=t("div",{style:{"margin-top":"15px"}},[t("p",{class:"text"},"Текущее расписание: "),t("p",{class:"text",style:{"margin-top":"10px"}},[t("b",null,"Выплата каждые 1 месяц 5-го числа ")])],-1))]),t("div",zl,[e[90]||(e[90]=t("h3",{style:{"margin-bottom":"30px"}},"История выплат",-1)),o(P,{style:{"margin-top":"20px"},columns:l(Ee),data:l(Se),ref_key:"financesHistoryTableRef",ref:ve},null,8,["columns","data"])])]),reports:i(()=>[e[98]||(e[98]=t("h3",{style:{"margin-bottom":"30px"}},"Отчёты",-1)),t("div",Gl,[t("div",Jl,[e[92]||(e[92]=t("label",{class:"reports-label"},"Тип отчёта",-1)),o(m,{modelValue:l(v).type,"onUpdate:modelValue":e[46]||(e[46]=s=>l(v).type=s),options:l(v).typeOptions,name:"reports-type"},null,8,["modelValue","options"])]),t("div",Ql,[e[93]||(e[93]=t("label",{class:"reports-label"},"Период",-1)),o(m,{modelValue:l(v).period,"onUpdate:modelValue":e[47]||(e[47]=s=>l(v).period=s),options:l(v).periodOptions,name:"reports-period"},null,8,["modelValue","options"])]),t("div",Wl,[e[94]||(e[94]=t("label",{class:"reports-label"},"Объекты",-1)),o(m,{modelValue:l(v).objects,"onUpdate:modelValue":e[48]||(e[48]=s=>l(v).objects=s),options:l(v).objectsOptions,name:"reports-objects"},null,8,["modelValue","options"])])]),t("div",Xl,[e[97]||(e[97]=t("h4",null,"E-mail для отправки отчёта:",-1)),t("div",Yl,[(b(!0),E(H,null,z(l(v).emailsToSend,(s,D)=>(b(),E("div",{class:"email-item",key:D},[t("span",cl,F(s),1),t("button",{class:"remove-btn",onClick:lt=>l(v).emailsToSend.splice(D,1)},[...e[95]||(e[95]=[t("span",null,null,-1),t("span",null,null,-1)])],8,_l)]))),128)),l(v).showEmailField?(b(),E("input",{key:0,type:"email",class:"email-field",placeholder:"email@example",onKeydown:e[49]||(e[49]=Ze(Ke(s=>l(le)(s.target.value),["prevent"]),["enter"])),onChange:e[50]||(e[50]=s=>l(le)(s.target.value))},null,32)):U("",!0),l(v).showEmailField?U("",!0):(b(),E("button",{key:1,class:"add-btn",onClick:e[51]||(e[51]=s=>l(v).showEmailField=!0)},[...e[96]||(e[96]=[t("img",{src:B},null,-1),r(" Добавить ",-1)])]))])])]),docs:i(()=>[e[100]||(e[100]=t("h3",null,"Договоры и акты",-1)),o(P,{style:{"margin-top":"30px"},columns:l(Te),data:l(Oe),ref_key:"docsTableRef",ref:ye},null,8,["columns","data"]),o(g,{class:"btn-filled",style:{"margin-top":"30px"}},{default:i(()=>[...e[99]||(e[99]=[r("Загрузить новый документ",-1)])]),_:1})]),_:1},8,["tabs","disabled-save-btn","onSaveClick"]),o(N,{ref_key:"deleteSelectedPopupRef",ref:I,"confirm-style":"red","confirm-text":"Удалить","cancel-text":"Отменить",onConfirm:l(Ae),onCancel:e[54]||(e[54]=s=>l(S)(l(I)))},{default:i(()=>[t("h2",hl,[e[101]||(e[101]=r(" Удалить сессии? ",-1)),e[102]||(e[102]=t("br",null,null,-1)),r(" "+F(l(w)),1)])]),_:1},8,["onConfirm"]),o(bl,{"custom-class":"refund-payment-popup","refund-type":l(re),"refund-type-options":l(ue),ref_key:"refundPopupRef",ref:c},null,8,["refund-type","refund-type-options"]),o(N,{ref_key:"savePopupRef",ref:M,"confirm-text":"Сохранить","cancel-text":"Не сохранять",onCancel:e[55]||(e[55]=s=>l(S)(l(M))),onConfirm:l(K)},{default:i(()=>[...e[103]||(e[103]=[t("h2",{class:"popup-title"},"Сохранить перед выходом?",-1),t("p",{class:"popup-text"},"Без сохранения все изменения будут потеряны!",-1)])]),_:1},8,["onConfirm"]),o(N,{ref_key:"deleteSinglePopupRef",ref:A,"confirm-style":"red","confirm-text":"Удалить","cancel-text":"Отменить",onConfirm:e[56]||(e[56]=s=>l(S)(l(A))),onCancel:e[57]||(e[57]=s=>l(S)(l(A)))},{default:i(()=>[...e[104]||(e[104]=[t("h2",{class:"popup-title"}," Удалить объект? ",-1)])]),_:1},512)],64))}},Ct=oe(et,[["__scopeId","data-v-71c46139"]]);export{Ct as default};
