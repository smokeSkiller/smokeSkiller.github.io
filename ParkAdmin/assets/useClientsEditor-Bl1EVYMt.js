import{c as h,o as U}from"./modal-DRTCzFhK.js";import{_ as S}from"./vue-3-slider-component-DVLLiOr3.js";import{x as Y,e as n,i as A}from"./index-BWF_qH93.js";import{b as Q}from"./useObjectsEditor-1kBT4oY3.js";const V=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Z="data:image/svg+xml,%3csvg%20width='6'%20height='11'%20viewBox='0%200%206%2011'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%2010.5L3%200.5M3%200.5L5.5%203M3%200.5L0.5%203'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",P="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.66406%207.33334V11.3333'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.33594%207.33334V11.3333'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.66406%204.66666H13.3307'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%204.66666H8H12V11C12%2012.6568%2010.6569%2014%209%2014H7C5.34315%2014%204%2012.6568%204%2011V4.66666Z'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%204C6%202.89543%206.89543%202%208%202V2C9.10457%202%2010%202.89543%2010%204V4.66667H6V4Z'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",H="data:image/png;base64,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",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE+0lEQVR4nO2c7YuUVRTA52P9B7MmSgVFSIQfIvsiShR9KQJ7o4KgCJKg6O2MbaKuiu4WWkKKti6mtGHJlumCqxO7mSmbkDYvO7Pr7uzb3Z32zZnZ2feBeOKa24xzz515jIk99z7nwO/LzLnPwP3N89xz7h3G5+Pg4ODg4ODg4CAY/kBorR/CQfMINazc2neHz7bwfxh+rgrCjon4IXR2+buX7vTZFCYLqbJRimlC1u3ptluKaUL2to47dcExe6WYKERk/7JXiqlChK1STBYibJRiuhBhmxQbhAibpNgiRNgixSYhwgYptgkRpkuxUYgwWYqtQoSpUmwWIkyUYrsQYZoULwgRJknxihBhihQvCREmSPGaEEFdiheFCL2UZ5fah2eFCESKnIul9mGckNU74876vd0VY0V1hIVUEYWFAC1YCNCChQAtWAjQgoUALVgI0IKFAC1YCNCChQAtWAjQgoUALVgI0IKFAC1YCNCChQAtrBFS/YNwWmNphfoLo9ox25uHlfyWSMq5K4Dnv3S4F/2MM5GUs0wzxrNCPjgx6ORyOYXU1Lx2sqJDU+iYdXu60PwDbSNofntiku+QYh77rAudrFwu5zyyO67k37cl6swv4PnvfTeIfkZbPI3mH/x5hIUUs3xTxMlMz6MT9uqRXiX/+S8TWoGN7ePoZyRTs2j+xsZ+FoJxsTuDTtgnLUklt/ZMUisknpxW8h/aEdPmr6lV70AWAmHni1b8GX/6j5SSKxdi3QQvLOScB7Z1KAs6ljuWmavYgm6dkDeO9aGT1jM6c0uenMCRNP74WUQKKByzo3kYzTsXVWWzkJs8vCuu/cbLRXwx79G6zpIyJJ+evfUx1/T7hOvHIQspYFiz8D61P/+HMW99019WiOwvCq/bMTSN5r3SoBYMLMTF2hBoEv/mHL4wWlaI7F9k5SbzV1ZHnNn5BTTvwe0xFlKK3Zrq6cjF/G9or/RnywqRrL/ZID7x+TX0/UTR2sRCEF6oT5Tspu/5OOrMzKnfduy190/80yC+fXwAveb3V66zkHLcv7UD7cBl0yj3qJ450IO+J0tjXYN46Dz+iNvy4xALcUNnEl+AZXVVc1otX9s60zc2J4tfl9eR1/ulC284n97fw0LccPwyXqK+frTPOYXcCbLEfRxZJ2S5vKom5oxm5pT35CJ/7+Z8Kc1CSrCpSf22L068mFDL4hfre29UVBNZdeJ1u8hXB7IVl2GtkCf3XdNOYvFrcr2R644cF+xIuRoj+aqgamMhZVjxUcTJzuA7v8WEB6dcbTgW8863AyzkdmhPTLqa2IZf8yeKGw6qFZgO3SEWC9FwSFOqljrLuFvToxSTns538SzEJRsby+9XSeSGZOG431zcWee7Mv+LDKuFrKnFd34LGbo+6/pMpZB9P/3JQm6XZYEw2j8UcvKquvUhj3vLCXntaB8L+S+ci+pPBSWbT6pbH7IRlA1hqXGrd1Z2h9czQupaSpexsl/Bxskzdd0YgTzmWIhLXm7QP35knyL7FWzcsUtj2nHNocoe2XpKyKqamDM+OYcif6GoG/fm1/3acdtOVX6H1zNCqgyEhQAtWAjQgoUALVgI0IKFAC1YCNCChQAtWAjQgoUALVgI0IKFAC1YCNCChQAtWAjQgoUALVgI0IKFAC1YCNCChQAtaAgJhNb6IRxkwkE5F0vtg4ODg4ODg4ODw4fE3wSmQQOO8sdLAAAAAElFTkSuQmCC",K="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%2010.1143L10.8497%208.17116C11.0627%207.94295%2011.4088%207.94295%2011.6208%208.17116C11.8338%208.39937%2011.8338%208.77171%2011.6208%208.99992L9.67075%2011.0494C9.03175%2011.7363%208.00075%2011.7384%207.35975%2011.0494L5.40975%208.99992C5.19675%208.77171%205.19675%208.39937%205.40975%208.17116C5.62175%207.94295%205.96775%207.94295%206.18075%208.17116L8%2010.0822V1.55556C8%201.24873%208.22386%201%208.5%201C8.77614%201%209%201.24873%209%201.55556V10.1143ZM4.17972%206C3.70743%206%203.3008%206.33646%203.20818%206.80388L2.01924%2012.8039C2.00644%2012.8685%202%2012.9341%202%2013C2%2013.5523%202.44359%2014%202.99078%2014H14.009C14.0743%2014%2014.1394%2013.9935%2014.2033%2013.9806C14.7399%2013.8723%2015.0879%2013.3454%2014.9806%2012.8039L13.7916%206.80388C13.699%206.33646%2013.2924%206%2012.8201%206H4.17972ZM6%205V6H11V5H12.8253C13.771%205%2014.5852%205.67292%2014.7707%206.60777L15.9611%2012.6078C16.176%2013.6909%2015.4792%2014.7445%2014.4047%2014.9612C14.2766%2014.987%2014.1463%2015%2014.0156%2015H2.98397C1.88826%2015%201%2014.1046%201%2013C1%2012.8683%201.01291%2012.7369%201.03853%2012.6078L2.22891%206.60777C2.41438%205.67292%203.22863%205%204.17436%205H6Z'%20fill='%23343434'/%3e%3c/svg%3e",y=Y("clients",{state:()=>({mainTable:{columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",hozAlign:"center",headerSort:!1,width:30},{field:"name",title:"Название",headerSort:!1,width:140},{field:"geopos",title:"Геопозиция",headerSort:!1,width:150},{field:"country",title:"Страна",headerSort:!1,width:120},{field:"city",title:"Город",headerSort:!1,width:120},{field:"address",title:"Адрес",headerSort:!1},{field:"status",title:"Статус",headerSort:!1,width:160},{field:"lang",title:"Язык",headerSort:!1,width:120},{field:"currency",title:"Валюта",headerSort:!1,width:120},{field:"pp",title:"%PP",headerSort:!1,width:120},{field:"commission",title:"Комиссия",headerSort:!1}],content:[{id:1,name:"ТЦ Ромашка",geopos:"Россия",country:"Россия",city:"Пенза",address:"Светлая, 13",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:10,total_sum:1e4,average_length:670,average_sum:340},{id:2,name:"ТЦ Метрополис",geopos:"Россия",country:"Россия",city:"Москва",address:"Большая Полянка, 31",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:15,total_sum:7e3,average_length:265,average_sum:775},{id:3,name:"ТЦ Таганка",geopos:"Россия",country:"Россия",city:"Пенза",address:"Светлая, 13",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:10,total_sum:11e3,average_length:560,average_sum:900},{id:4,name:"ТЦ Лорисы",geopos:"Россия",country:"Россия",city:"Пенза",address:"Светлая, 13",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:10,total_sum:8e3,average_length:654,average_sum:340},{id:5,name:"ТЦ Долиной",geopos:"Россия",country:"Россия",city:"Москва",address:"Большая Полянка, 31",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:15,total_sum:1e4,average_length:344,average_sum:775},{id:6,name:"ТЦ Хата",geopos:"Россия",country:"Россия",city:"Пенза",address:"Светлая, 13",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:10,total_sum:1e4,average_length:455,average_sum:900}]},clientEditor:{tabs:[{name:"data",label:"Общая информация"},{name:"contacts",label:"Контактные лица"},{name:"pinned-objects",label:"Объекты"},{name:"requisites",label:"Реквизиты"},{name:"finances",label:"Финансы"},{name:"reports",label:"Отчёты"},{name:"docs",label:"Документы"}],dataFields:{name:"ООО Промкреп",phone:"+7 987 650-18-32",email:"promkrep@yandex.ru",address:"г. Москва, ул. Салютовская 6а",status:"Действующий",statusOptions:[{label:"Действующий",value:"active"},{label:"Отключен",value:"disabled"}]},contacts:{columns:[{field:"name",title:"ФИО",width:121,headerSort:!1,editor:"input"},{field:"position",title:"Должность",width:98,headerSort:!1,editor:"input"},{field:"phone",title:"Телефон",headerSort:!1,editor:"input",editorParams:{mask:"+7 (999) 999-99-99",selectContents:!0,maskAutoFill:!0}},{field:"email",title:"E-mail",headerSort:!1,editor:"input"},{title:"",field:"actions",hozAlign:"center",headerSort:!1,width:60,formatter:function(){return`
                  <div class="table-action">
                    <button class="comment-btn">
                      <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M0 6.5C0 2.91015 2.91015 0 6.5 0C10.0899 0 13 2.91015 13 6.5C13 10.0899 10.0899 13 6.5 13H1.07143C0.479696 13 0 12.5203 0 11.9286V6.5ZM6.5 1C3.46243 1 1 3.46243 1 6.5V11.9286C1 11.968 1.03198 12 1.07143 12H6.5C9.53757 12 12 9.53757 12 6.5C12 3.46243 9.53757 1 6.5 1Z" fill="#343434"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33333 4.5C3.33333 4.22386 3.55719 4 3.83333 4H8.5C8.77614 4 9 4.22386 9 4.5C9 4.77614 8.77614 5 8.5 5H3.83333C3.55719 5 3.33333 4.77614 3.33333 4.5Z" fill="#343434"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33333 6.5C3.33333 6.22386 3.55719 6 3.83333 6H8.5C8.77614 6 9 6.22386 9 6.5C9 6.77614 8.77614 7 8.5 7H3.83333C3.55719 7 3.33333 6.77614 3.33333 6.5Z" fill="#343434"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33333 8.5C3.33333 8.22386 3.55719 8 3.83333 8H5.83333C6.10948 8 6.33333 8.22386 6.33333 8.5C6.33333 8.77614 6.10948 9 5.83333 9H3.83333C3.55719 9 3.33333 8.77614 3.33333 8.5Z" fill="#343434"/>
                      </svg>
                    </button>

                    <button class="delete-btn">
                      <img src="${S}" />
                    </button>
                  </div>

                  <div class="comment-popup">
                    <div class="top">
                      <button class="delete-comment">  
                        <img src="${P}" />
                      </button>

                      <button class="close-popup">  
                        <span></span>
                        <span></span>
                      </button>
                    </div>

                    <div class="comment-content">
                      <input type="text" placeholder="Ваш комментарий" />

                      <button class="save-comment">
                        <img src="${Z}" />
                      </button>
                    </div>
                  </div>
                `},cellClick:function(e,o){const t=o.getRow(),s=t.getPosition(),m=o.getElement(),v=y().clientEditor.contacts,r=m.querySelector(".comment-popup"),i=r.querySelector("input"),d=i.value,b=r.querySelector(".top"),p=m.querySelector(".comment-btn"),g=m.querySelector(".save-comment");e.target.closest(".comment-btn")&&(i.value=t.getData().comment,r.classList.contains("is-opened")?c():(c(),r.classList.add("is-opened"),p.classList.add("active")),i.value!==""?b.classList.add("active"):b.classList.remove("active"),g.disabled=!0),i.addEventListener("input",()=>{i.value!==""?g.disabled=!1:g.disabled=!0}),e.target.closest(".save-comment")&&(v.content[s-1].comment=d,t.update({comment:d}),c()),e.target.closest(".close-popup")&&c(),e.target.closest(".delete-comment")&&(v.content[s-1].comment="",t.update({comment:""}),c());function c(){t.getTable().element.querySelectorAll(".comment-popup").forEach(u=>{u.classList.remove("is-opened")}),t.getTable().element.querySelectorAll(".comment-btn").forEach(u=>{u.classList.remove("active")})}e.target.closest(".delete-btn")&&t.delete()}}],content:[{name:"Петров Виктор Сидорович",position:"Ген.директор",phone:"+7 (495) 123-45-67",email:"petrov.vs@centercity.ru",comment:""},{name:"Сидорова Анна Михайловна",position:"Главный инженер",phone:"+7 (916) 100-20-30",email:"sidorova.am@city.ru",comment:""},{name:"Ковалев Игорь Дмитриевич",position:"Менеджер парковки",phone:"+7 (495) 123-45-67",email:"kovalev.id@centercity.ru",comment:""}]},pinnedObjectsId:[4,5,6],searchObject:"",requisites:{billingName:"ООО “ШишмаОйл”",ceoName:"Иванов Иван Иванович",billingAddress:"Москва, ул. Тверская, д.16",inn:188000989,kpp:165461634,banks:{columns:[{field:"bankName",title:"Банк",width:95,headerSort:!1,editor:"input"},{field:"bankAccount",title:"Расч.счёт",width:165,headerSort:!1,editor:"input"},{field:"bankBik",title:"БИК",width:85,headerSort:!1,editor:"input"},{field:"corrAccount",title:"Корр.счёт",width:160,headerSort:!1,editor:"input"},{title:"",field:"actions",hozAlign:"center",headerSort:!1,formatter:function(){return`
                    <div class="table-action">
                      <button class="delete-btn">
                        <img src="${S}" />
                      </button>
                      
                      <button class="star-btn">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M7.04634 4.2603C7.34569 3.33899 8.6491 3.33899 8.94845 4.2603L9.41932 5.70948C9.55319 6.1215 9.93715 6.40046 10.3704 6.40046H11.8941C12.8629 6.40046 13.2656 7.64008 12.4819 8.20948L11.2492 9.10512C10.8987 9.35976 10.752 9.81113 10.8859 10.2232L11.3568 11.6723C11.6561 12.5936 10.6016 13.3598 9.81792 12.7904L8.58518 11.8947C8.23469 11.6401 7.7601 11.6401 7.40961 11.8947L6.17687 12.7904C5.39316 13.3598 4.33868 12.5936 4.63803 11.6723L5.10889 10.2232C5.24277 9.81113 5.09611 9.35976 4.74562 9.10512L3.51288 8.20948C2.72917 7.64008 3.13194 6.40046 4.10066 6.40046H5.62442C6.05764 6.40046 6.4416 6.1215 6.57547 5.70948L7.04634 4.2603Z" stroke="#343434" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </button>
                    </div>
                  `},cellClick:function(e,o){const t=o.getRow();e.target.closest(".star-btn")&&e.target.closest(".star-btn").classList.toggle("active"),e.target.closest(".delete-btn")&&t.delete()}}],content:[{bankName:'АО "Т-Банк"',bankAccount:"40702810838050002000",bankBik:"044525256",corrAccount:"30101810145250000999"},{bankName:"ПАО Сбербанк",bankAccount:"40702810838050002000",bankBik:"044525256",corrAccount:"30101810145250000999"},{bankName:'Банк “ВТБ"',bankAccount:"40702810838050002000",bankBik:"044525256",corrAccount:"30101810145250000999"}]}},finances:{interval:1,intervalOptions:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],period:"Месяц",periodOptions:[{value:"days",label:"Дней"},{value:"month",label:"Месяц"},{value:"week",label:"Неделю"}],number:"5-е",numberOptions:[{value:"1-е",label:"1-е"},{value:"2-е",label:"2-е"},{value:"3-е",label:"3-е"},{value:"4-е",label:"4-е"},{value:"5-е",label:"5-е"}],history:{columns:[{field:"id",title:"ID выплаты",width:100,headerSort:!1},{field:"date",title:"Дата",width:95,headerSort:!1},{field:"sum",title:"Сумма",width:85,headerSort:!1,formatter:function(e){return`${e.getValue().toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/,/g,".")} ₽`}},{field:"paymentOrder",title:"Платёжное поручение",width:180,headerSort:!1},{field:"status",title:"Статус",headerSort:!1,formatter:function(e){const o=e.getValue();return{paid:'<span class="status status-paid">Выполнено</span>',canceled:'<span class="status status-canceled">Отменено</span>'}[o]??o}}],content:[{id:"PY-7842",date:"12.12.2025",sum:32150,paymentOrder:"№125 от 15.05.2024",status:"paid"},{id:"PY-7842",date:"15.12.2025",sum:147150,paymentOrder:"№125 от 15.05.2024",status:"canceled"},{id:"PY-7842",date:"12.12.2025",sum:45340,paymentOrder:"№125 от 15.05.2024",status:"paid"},{id:"PY-7842",date:"12.12.2025",sum:32150,paymentOrder:"№125 от 15.05.2024",status:"paid"}]}},reports:{type:"Сверка платежей",typeOptions:[{label:"Сверка платежей",value:"payment"},{label:"Сверка мест",value:"places"}],period:"1-31 марта 2024",periodOptions:[{label:"1-31 марта 2024",value:"march"},{label:"1-31 апреля 2024",value:"april"},{label:"1-31 мая 2024",value:"may"}],objects:"Все объекты",objectsOptions:[{label:"Все объекты",value:"all"},{label:"Объект 1",value:"object1"},{label:"Объект 2",value:"object2"}],emailsToSend:["promkrep@yandex.ru","ivanov@mail.ru"],showEmailField:!1},docs:{columns:[{field:"doc",title:"Документ",width:225,headerSort:!1,editor:"input",formatter:function(e){if(e.getValue().endsWith(".pdf"))return`<img src="${H}" class="file-icon" /> <u>${e.getValue()}</u>`;if(e.getValue().endsWith(".docx"))return`<img src="${J}" class="file-icon" /> <u>${e.getValue()}</u>`}},{field:"type",title:"Тип",width:155,headerSort:!1,editor:"input"},{field:"date",title:"Дата",width:95,headerSort:!1,editor:"input"},{field:"action",title:"Действия",headerSort:!1,formatter:function(){return`
                <div class="table-action">
                  <button class="upload-btn">
                    <img src="${K}" />
                  </button>

                  <button class="delete-btn">
                    <img src="${S}" />
                  </button>
                </div>
              `},cellClick:function(e,o){const t=o.getRow();e.target.closest(".upload-btn")&&console.log("Выгрузка данных"),e.target.closest(".delete-btn")&&t.delete()}}],content:[{doc:"Договор аренды_версия2.pdf",type:"Договор аренды",date:"от 15.10.2025"},{doc:"Акт сверки.docx",type:"Акт сверки арендных платежей",date:"от 15.10.2025"},{doc:"Договор аренды_версия2.pdf",type:"Договор аренды",date:"от 15.10.2025"},{doc:"Акт сверки.docx",type:"Акт сверки арендных платежей",date:"от 15.10.2025"},{doc:"Договор аренды_версия2.pdf",type:"Договор аренды",date:"от 15.10.2025"},{doc:"Акт сверки.docx",type:"Акт сверки арендных платежей",date:"от 15.10.2025"},{doc:"Договор аренды_версия2.pdf",type:"Договор аренды",date:"от 15.10.2025"},{doc:"Акт сверки.docx",type:"Акт сверки арендных платежей",date:"от 15.10.2025"}]}},massEditor:{params:[{label:"Геопозиция",value:"geopos"},{label:"Страна",value:"country"},{label:"Город",value:"city"},{label:"Адрес",value:"address"},{label:"Статус",value:"status"},{label:"Язык",value:"lang"},{label:"Валюта",value:"currency"},{label:"%PP",value:"pp"},{label:"Комиссия",value:"commission"}]}})});function oe(){const e=y(),o=Q(),t=e.clientEditor,s=n(null),m=n(null),v=n(null),r=n(null),i=n(null),d=n(null),b=n(null),p=n(null),g=n(null);const c=n(t.tabs),u=n(!1),k=A(()=>t.dataFields),E=t.contacts.columns,L=t.contacts.content,f=A(()=>t.pinnedObjectsId),R=A(()=>o.mainTable.content.filter(a=>f.value.includes(a.id))),x=A(()=>o.mainTable.content.filter(l=>!f.value.includes(l.id)).map(l=>l.name)),B=n(!1),I=t.requisites.banks.columns,j=t.requisites.banks.content,w=t.finances,O=w.history.columns,z=w.history.content,C=t.reports,F=t.docs.columns,T=t.docs.content;e.$subscribe((a,l)=>{u.value=!0});return{objectsStore:o,clientEditor:t,clientEditorRef:s,contactsTableRef:m,requisitesTableRef:v,financesHistoryTableRef:r,docsTableRef:i,savePopupRef:d,saveObjectPopupRef:b,saveNotifyRef:p,deleteSinglePopupRef:g,editorTabs:c,editorData:k,clientHasEdited:u,editorContactColumns:E,editorContactContent:L,objectsId:f,editorPinnedObjects:R,objectsAllNames:x,showSearchObject:B,editorRequisitesColumns:I,editorRequisitesContent:j,finances:w,financeHistoryColumns:O,financeHistoryContent:z,reports:C,editorDocsColumns:F,editorDocsContent:T,addReportsEmail:a=>{V(a)&&!C.emailsToSend.includes(a)&&(C.emailsToSend.push(a),C.showEmailField=!1)},pinObject:a=>{const l=o.mainTable.content.find(M=>M.name===a);f.value.push(l.id)},unpinObject:a=>{t.pinnedObjectsId=f.value.filter(l=>l!==a)},saveConfirmClick:()=>{h(d.value),h(s.value),U(p.value),setTimeout(()=>h(p.value),3e3)},cancelSaveClick:()=>{h(d.value),h(s.value)},addTableRow:a=>{a.getTable().addRow()}}}export{y as a,oe as u};
