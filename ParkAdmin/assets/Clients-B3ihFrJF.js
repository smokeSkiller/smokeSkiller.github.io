import{B as qe,_ as Me}from"./BottomNotify-BTbGL-ds.js";import{_ as ne,a as Ue,b as Fe,P as Ne,c as oe,u as He,d as Be,f as Ie,e as I}from"./vue-3-slider-component-DVLLiOr3.js";import{T as Le}from"./CustomOpenIndicator-BQQZUi6w.js";import{B as E}from"./BaseButton-BUPZcaam.js";import{_ as Ke}from"./close-icon-DcnZ6QH4.js";import{_ as We,D as ze,a as Ge}from"./useObjectsEditor-1kBT4oY3.js";import{g as H,o as y,s as Je,w as m,a as t,b as a,t as G,d as v,e as C,c as V,A as W,F as J,j as _,l as Qe,D as Xe,_ as Ye,y as L,z as Ze,i as se,u as l,C as he,B as _e}from"./index-BWF_qH93.js";import{_ as et}from"./unpin-icon-iCo7ue74.js";import{_ as z}from"./plus-icon-lxHPDhbU.js";import{T as ie}from"./TableModal-p6TpcjEn.js";import{F as S}from"./FormField-5cKzPise.js";import{_ as $}from"./FormSelectField-BrAB1vmC.js";import{_ as K}from"./SecondaryTable-DySUWM44.js";import{u as tt,O as lt}from"./useObjects-nteVrfx-.js";import{o as P,c as j}from"./modal-DRTCzFhK.js";import{a as ae,u as ot}from"./useClientsEditor-Bl1EVYMt.js";import{_ as st}from"./FilterSortSearch-CQoBWqkz.js";import{_ as nt}from"./FilterSortDate-CPNclfv2.js";const it={__name:"ClientsToolbar",props:{hasSelection:Boolean,selectedCount:Number,statusOptions:Array},emits:["deselect-all","delete-selected","open-mass-editor","change-status"],setup(o,{emit:r}){const f=r;return(p,i)=>(y(),H(Ne,null,Je({right:m(()=>[a(E,{class:"small-btn",onClick:i[4]||(i[4]=u=>f("open-settings"))},{default:m(()=>[...i[9]||(i[9]=[t("img",{src:Ue},null,-1)])]),_:1}),a(E,{class:"small-btn"},{default:m(()=>[...i[10]||(i[10]=[t("img",{src:Fe},null,-1)])]),_:1})]),_:2},[o.hasSelection?{name:"left",fn:m(()=>[t("div",{class:"selected-count controller-item",onClick:i[0]||(i[0]=u=>f("deselect-all"))},[t("span",null,"Выбрано: "+G(o.selectedCount),1),a(E,{class:"btn-filled"},{default:m(()=>[...i[5]||(i[5]=[t("img",{src:Ke},null,-1)])]),_:1})]),t("div",{class:"delete-row controller-item",onClick:i[1]||(i[1]=u=>f("delete-selected"))},[...i[6]||(i[6]=[t("img",{src:ne},null,-1),v(" Удалить ",-1)])]),t("div",{class:"edit controller-item",onClick:i[2]||(i[2]=u=>f("open-mass-editor"))},[...i[7]||(i[7]=[t("img",{src:We},null,-1),v(" Редактировать ",-1)])]),a(ze,{class:"change-status controller-item","dropdown-list":o.statusOptions,onChange:i[3]||(i[3]=u=>f("change-status",u))},{default:m(()=>[...i[8]||(i[8]=[t("img",{src:Ge},null,-1),v(" Изменить статус ",-1)])]),_:1},8,["dropdown-list"])]),key:"0"}:void 0]),1024))}},at={class:"fields-group"},dt={class:"field-outer"},rt={class:"contact-table-outer"},ut={class:"pinned-objects"},mt={class:"name"},pt={class:"d-flex align-items-center"},bt=["onClick"],ft={class:"d-flex",style:{"margin-top":"20px"}},ct={class:"fields-group"},vt={class:"banks"},Ct={class:"d-flex justify-content-between align-items-center w-100"},yt={class:"settings"},gt={class:"d-flex align-items-end",style:{"margin-top":"10px"}},kt={class:"field"},Et={class:"field"},wt={class:"field"},St={class:"history"},jt={class:"fields-group"},$t={class:"field-outer"},Vt={class:"field-outer"},Ot={class:"field-outer"},Rt={class:"email"},xt={class:"d-flex align-items-center flex-wrap"},Tt={class:"text"},At=["onClick"],Dt={__name:"ClientsEditor",props:{headerTitle:String,tabs:Array,innerWidth:Number,closeOnOverlayClick:Boolean,disabledSaveBtn:Boolean,editorData:Object,clientEditor:Object,editorPinnedObjects:Array,objectsAllNames:Array,showSearchObject:Boolean,finances:Object,reports:Object,editorContactColumns:Array,editorContactContent:Array,editorRequisitesColumns:Array,editorRequisitesContent:Array,financeHistoryColumns:Array,financeHistoryContent:Array,editorDocsColumns:Array,editorDocsContent:Array},emits:["overlay-click","save-click","close-click","add-contact-row","add-requisites-row","pin-object","unpin-object","add-reports-email","open-object-editor"],setup(o,{expose:r,emit:f}){const p=f,i=C(),u=C();C(),C();const b=()=>p("add-contact-row"),w=()=>p("add-requisites-row"),k=c=>p("pin-object",c),O=c=>p("unpin-object",c),R=c=>p("add-reports-email",c),q=()=>p("open-object-editor"),x=C();return r({contactsTable:i,requisitesTable:u,open:()=>x.value?.open?.(),close:()=>x.value?.close?.()}),(c,e)=>(y(),H(ie,{ref_key:"tableModalRef",ref:x,"custom-class":"client-editor","header-title":o.headerTitle,tabs:o.tabs,"inner-width":o.innerWidth,"close-on-overlay-click":o.closeOnOverlayClick,"disabled-save-btn":o.disabledSaveBtn,onOverlayClick:e[21]||(e[21]=n=>c.$emit("overlay-click")),onSaveClick:e[22]||(e[22]=n=>c.$emit("save-click")),onCloseClick:e[23]||(e[23]=n=>c.$emit("close-click"))},{data:m(()=>[e[25]||(e[25]=t("h3",{style:{"margin-bottom":"30px"}},"Данные о компании",-1)),t("div",at,[a(S,{name:"name",modelValue:o.editorData.name,"onUpdate:modelValue":e[0]||(e[0]=n=>o.editorData.name=n),label:"Название"},null,8,["modelValue"]),a(S,{name:"phone",modelValue:o.editorData.phone,"onUpdate:modelValue":e[1]||(e[1]=n=>o.editorData.phone=n),label:"Телефон"},null,8,["modelValue"]),a(S,{name:"email",modelValue:o.editorData.email,"onUpdate:modelValue":e[2]||(e[2]=n=>o.editorData.email=n),label:"E-mail"},null,8,["modelValue"]),a(S,{name:"address",modelValue:o.editorData.address,"onUpdate:modelValue":e[3]||(e[3]=n=>o.editorData.address=n),label:"Адрес"},null,8,["modelValue"]),t("div",dt,[e[24]||(e[24]=t("label",null,[v("Статус "),t("br"),v(" клиента")],-1)),a($,{modelValue:o.editorData.status,"onUpdate:modelValue":e[4]||(e[4]=n=>o.editorData.status=n),options:o.editorData.statusOptions,name:"client-status"},null,8,["modelValue","options"])])])]),contacts:m(()=>[e[28]||(e[28]=t("h3",{style:{"margin-bottom":"30px"}},"Контактные лица",-1)),t("div",rt,[a(K,{style:{"margin-top":"20px"},columns:o.editorContactColumns,data:o.editorContactContent,id:"client-contact-table",ref_key:"contactsTableRef",ref:i},null,8,["columns","data"]),e[26]||(e[26]=t("div",{class:"comment-popup"},[t("input",{type:"text",placeholder:"Ваш комментарий"})],-1))]),a(E,{class:"btn-filled",onClick:b,style:{"margin-top":"20px"}},{default:m(()=>[...e[27]||(e[27]=[v(" Добавить новый контакт ",-1)])]),_:1})]),"pinned-objects":m(()=>[e[33]||(e[33]=t("h3",{style:{"margin-bottom":"30px"}},"Объекты ООО “ШишмаОйл”",-1)),t("div",ut,[t("ul",null,[(y(!0),V(J,null,_(o.editorPinnedObjects,n=>(y(),V("li",{key:n.id},[t("span",mt,G(n.name),1),t("div",pt,[t("button",{class:"unpin-btn",onClick:T=>O(n.id)},[...e[29]||(e[29]=[t("img",{src:et},null,-1)])],8,bt),t("button",{class:"open-btn",onClick:q},[...e[30]||(e[30]=[t("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6.5 0.5H2.5C1.39543 0.5 0.5 1.39543 0.5 2.5V12.5C0.5 13.6046 1.39543 14.5 2.5 14.5H12.5C13.6046 14.5 14.5 13.6046 14.5 12.5V7.75M14.5 0.5H10.5M14.5 0.5V4.5M14.5 0.5L4.5 10.5",stroke:"#343434","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])])]))),128))]),o.showSearchObject?(y(),H(S,{key:0,name:"search-object",modelValue:o.clientEditor.searchObject,"onUpdate:modelValue":e[5]||(e[5]=n=>o.clientEditor.searchObject=n),label:"Объект",items:o.objectsAllNames,style:{"margin-top":"20px"},onSelect:k},null,8,["modelValue","items"])):W("",!0),t("div",ft,[a(E,{class:"btn-filled pin-btn",onClick:e[6]||(e[6]=n=>c.$emit("update:showSearchObject",!0))},{default:m(()=>[...e[31]||(e[31]=[v(" Прикрепить объект ",-1)])]),_:1}),a(E,{class:"add-btn",onClick:q},{default:m(()=>[...e[32]||(e[32]=[t("img",{src:z},null,-1),v(" Добавить объект ",-1)])]),_:1})])])]),requisites:m(()=>[e[36]||(e[36]=t("h3",{style:{"margin-bottom":"30px"}},"Реквизиты юр.лица",-1)),t("div",ct,[a(S,{modelValue:o.clientEditor.requisites.billingName,"onUpdate:modelValue":e[7]||(e[7]=n=>o.clientEditor.requisites.billingName=n),label:"Наименование юр.лица","label-width":"120"},null,8,["modelValue"]),a(S,{modelValue:o.clientEditor.requisites.ceoName,"onUpdate:modelValue":e[8]||(e[8]=n=>o.clientEditor.requisites.ceoName=n),label:"ФИО ген. директора","label-width":"120"},null,8,["modelValue"]),a(S,{modelValue:o.clientEditor.requisites.billingAddress,"onUpdate:modelValue":e[9]||(e[9]=n=>o.clientEditor.requisites.billingAddress=n),label:"Юр.адрес","label-width":"120"},null,8,["modelValue"]),a(S,{modelValue:o.clientEditor.requisites.inn,"onUpdate:modelValue":e[10]||(e[10]=n=>o.clientEditor.requisites.inn=n),label:"ИНН","label-width":"120"},null,8,["modelValue"]),a(S,{modelValue:o.clientEditor.requisites.kpp,"onUpdate:modelValue":e[11]||(e[11]=n=>o.clientEditor.requisites.kpp=n),label:"КПП","label-width":"120"},null,8,["modelValue"])]),t("div",vt,[t("div",Ct,[e[35]||(e[35]=t("h3",null,"Банковские счета",-1)),a(E,{class:"btn-filled add-bank-btn",onClick:w},{default:m(()=>[...e[34]||(e[34]=[t("img",{src:z},null,-1),v(" Добавить счёт ",-1)])]),_:1})]),a(K,{style:{"margin-top":"20px"},ref_key:"requisitesTableRef",ref:u,columns:o.editorRequisitesColumns,data:o.editorRequisitesContent},null,8,["columns","data"])])]),finances:m(()=>[e[45]||(e[45]=t("div",{class:"conditions"},[t("h3",{style:{"margin-bottom":"20px"}},"Условия"),t("div",{class:"row"},[t("span",{class:"text"},"Тип комиссии"),t("span",{class:"text"},[t("b",null,"Процент от оборота")])]),t("div",{class:"row"},[t("span",{class:"text"},"Ставка"),t("span",{class:"text"},[t("b",null,"15%")])])],-1)),t("div",yt,[e[41]||(e[41]=t("h3",{style:{"margin-bottom":"25px"}},"Настройки",-1)),e[42]||(e[42]=t("p",{class:"text"},"Выплачивать каждые:",-1)),t("div",gt,[t("div",kt,[e[37]||(e[37]=t("span",{class:"label"},"Интервал",-1)),a($,{modelValue:o.finances.interval,"onUpdate:modelValue":e[12]||(e[12]=n=>o.finances.interval=n),options:o.finances.intervalOptions,width:"45"},null,8,["modelValue","options"])]),t("div",Et,[e[38]||(e[38]=t("span",{class:"label"},"Период",-1)),a($,{modelValue:o.finances.period,"onUpdate:modelValue":e[13]||(e[13]=n=>o.finances.period=n),options:o.finances.periodOptions,width:"80"},null,8,["modelValue","options"])]),t("div",wt,[e[39]||(e[39]=t("span",{class:"label"},"Число",-1)),a($,{modelValue:o.finances.number,"onUpdate:modelValue":e[14]||(e[14]=n=>o.finances.number=n),options:o.finances.numberOptions,width:"60"},null,8,["modelValue","options"])]),a(E,{class:"btn-filled settings-btn"},{default:m(()=>[...e[40]||(e[40]=[v("Применить",-1)])]),_:1})]),e[43]||(e[43]=t("div",{style:{"margin-top":"15px"}},[t("p",{class:"text"},"Текущее расписание: "),t("p",{class:"text",style:{"margin-top":"10px"}},[t("b",null,"Выплата каждые 1 месяц 5-го числа")])],-1))]),t("div",St,[e[44]||(e[44]=t("h3",{style:{"margin-bottom":"30px"}},"История выплат",-1)),a(K,{style:{"margin-top":"20px"},columns:o.financeHistoryColumns,data:o.financeHistoryContent},null,8,["columns","data"])])]),reports:m(()=>[e[52]||(e[52]=t("h3",{style:{"margin-bottom":"30px"}},"Отчёты",-1)),t("div",jt,[t("div",$t,[e[46]||(e[46]=t("label",{class:"reports-label",style:{width:"90px"}},"Тип отчёта",-1)),a($,{modelValue:o.reports.type,"onUpdate:modelValue":e[15]||(e[15]=n=>o.reports.type=n),options:o.reports.typeOptions,name:"reports-type"},null,8,["modelValue","options"])]),t("div",Vt,[e[47]||(e[47]=t("label",{class:"reports-label",style:{width:"90px"}},"Период",-1)),a($,{modelValue:o.reports.period,"onUpdate:modelValue":e[16]||(e[16]=n=>o.reports.period=n),options:o.reports.periodOptions,name:"reports-period"},null,8,["modelValue","options"])]),t("div",Ot,[e[48]||(e[48]=t("label",{class:"reports-label",style:{width:"90px"}},"Объекты",-1)),a($,{modelValue:o.reports.objects,"onUpdate:modelValue":e[17]||(e[17]=n=>o.reports.objects=n),options:o.reports.objectsOptions,name:"reports-objects"},null,8,["modelValue","options"])])]),t("div",Rt,[e[51]||(e[51]=t("h4",null,"E-mail для отправки отчёта:",-1)),t("div",xt,[(y(!0),V(J,null,_(o.reports.emailsToSend,(n,T)=>(y(),V("div",{class:"email-item",key:T},[t("span",Tt,G(n),1),t("button",{class:"remove-btn",onClick:M=>c.$emit("remove-report-email",T)},[...e[49]||(e[49]=[t("span",null,null,-1),t("span",null,null,-1)])],8,At)]))),128)),o.reports.showEmailField?(y(),V("input",{key:0,type:"email",class:"email-field",placeholder:"email@example",onKeydown:e[18]||(e[18]=Qe(Xe(n=>R(n.target.value),["prevent"]),["enter"])),onChange:e[19]||(e[19]=n=>R(n.target.value))},null,32)):W("",!0),o.reports.showEmailField?W("",!0):(y(),V("button",{key:1,class:"add-btn",onClick:e[20]||(e[20]=n=>c.$emit("toggle-email-field",!0))},[...e[50]||(e[50]=[t("img",{src:z},null,-1),v(" Добавить ",-1)])]))])])]),docs:m(()=>[e[54]||(e[54]=t("h3",null,"Договоры и акты",-1)),a(K,{style:{"margin-top":"30px"},columns:o.editorDocsColumns,data:o.editorDocsContent},null,8,["columns","data"]),a(E,{class:"btn-filled",style:{"margin-top":"30px"}},{default:m(()=>[...e[53]||(e[53]=[v("Загрузить новый документ",-1)])]),_:1})]),_:1},8,["header-title","tabs","inner-width","close-on-overlay-click","disabled-save-btn"]))}},Pt={action:"#"},qt=["onClick"],Mt=Object.assign({inheritAttrs:!1},{__name:"ClientsMassEditor",props:{tabs:Array,customClass:String,headerTitle:String,massEditorFields:Array,massEditorParams:Array},emits:["close-click","save-click","add-mass-editor-fields-row","remove-mass-editor-field"],setup(o,{expose:r,emit:f}){const p=f,i=C(null);return r({open:()=>i.value.open(),close:()=>i.value.close()}),(u,b)=>(y(),H(ie,{tabs:o.tabs,"custom-class":o.customClass,"header-title":o.headerTitle,onSaveClick:b[1]||(b[1]=w=>p("save-click")),onCloseClick:b[2]||(b[2]=w=>p("close-click")),ref_key:"massEditorRef",ref:i},{edit:m(()=>[t("form",Pt,[b[5]||(b[5]=t("h3",null,"Редактирование выбранных клиентов",-1)),b[6]||(b[6]=t("div",{class:"d-flex"},[t("span",{class:"fields-label"},"Параметр"),t("span",{class:"fields-label"},"До изменения"),t("span",{class:"fields-label"},"После изменения")],-1)),(y(!0),V(J,null,_(o.massEditorFields,(w,k)=>(y(),V("div",{class:"fields-row",key:k},[a($,{options:o.massEditorParams,width:160},null,8,["options"]),a($,{options:o.massEditorParams,width:160},null,8,["options"]),a($,{options:o.massEditorParams,width:160},null,8,["options"]),t("button",{type:"button",class:"delete-row",onClick:O=>p("remove-mass-editor-field",k)},[...b[3]||(b[3]=[t("img",{src:ne},null,-1)])],8,qt)]))),128)),t("button",{type:"button",class:"add-fields-btn",onClick:b[0]||(b[0]=w=>p("add-mass-editor-fields-row"))},[...b[4]||(b[4]=[t("img",{src:z},null,-1),v(" Добавить изменения ",-1)])])])]),_:1},8,["tabs","custom-class","header-title"]))}}),Ut=Ye(Mt,[["__scopeId","data-v-b6bb0eb5"]]);function Ft(){return{applyFiltersToColumns:(r,f,p)=>f.map(i=>i.field==="name"?{...i,headerClickPopup(){const u=document.createElement("div");return L(oe,{onSelectSortOrder(){p(r,"name")}}).mount(u),u}}:i.field==="geopos"?{...i,headerClickPopup(){const u=document.createElement("div");return L(oe,{onSelectSortOrder(){p(r,"geopos")}}).mount(u),u}}:i.field==="country"?{...i,headerClickPopup(){const u=document.createElement("div");return L(nt,{onSelectSortOrder(){p(r,"country")},onSelectCompareState(){p(r,"country")},onSelectDate(){p(r,"country")},onSelectDateRange(){p(r,"country")}}).mount(u),u}}:i.field==="city"?{...i,headerClickPopup(){const u=document.createElement("div");return L(st,{onSelectSortOrder(){p(r,"city")},dropdownItems:[{name:"Пенза"},{name:"Мосва"},{name:"Самара"},{name:"Екатеринбург"},{name:"Кемерово"}],onSelectCheckbox(){p(r,"city")}}).mount(u),u}}:i)}}function Nt(o){const r=ae(),f=C(null),p=C([{name:"edit",label:"Массовое редактирование"}]),i=C(r.massEditor.params),u=Ze([{}]);return{massEditorRef:f,massEditorTabs:p,massEditorParams:i,massEditorFields:u,openMassEditor:()=>o.openMassEditor(f),addMassEditorFieldsRow:()=>o.addMassEditorFieldsRow(u)}}function Ht(){const o=ae(),r=He(),{hasSelection:f,selectedCount:p,selectedRows:i,selectedRowsName:u,changeTableSettings:b,addResetFilterBtn:w}=r,k=C(null),O=se(()=>o.mainTable.columns),R=se(()=>o.mainTable.content),q=C(null),x=O.value.filter(g=>g.formatter!=="rowSelection").map(g=>({field:g.field,title:g.title})),c=C(null),e=C([{value:"active",title:"Действующий"},{value:"stopped",title:"Приостановлен"},{value:"disabled",title:"Неактивный"},{value:"status-1",title:"Статус 1"},{value:"status-2",title:"Статус 2"}]),{applyFiltersToColumns:n}=Ft();o.mainTable.columns=n(k,O.value,w);const T=ot(),M=Nt(r),A=C([]),D=C(!1),U=()=>r.deselectAll(k),Q=()=>r.deleteSelected(k,()=>j(c.value)),B=()=>P(c.value),X=g=>{r.onSelectionChanged(g,"name"),D.value&&F()},F=()=>{D.value=!0,A.value=i.value.map(g=>({name:g.name,average_length:g.average_length,average_sum:g.average_sum,total_sum:g.total_sum}))};return{clientsStore:o,mainTableRef:k,tableHeader:O,tableContent:R,tableSettingsHeader:x,hasSelection:f,selectedCount:p,selectedRows:i,selectedRowsName:u,deleteSelectedPopupRef:c,tableSettingsRef:q,statusOptionsList:e,showCalculatedSummary:D,summaryItems:A,...T,...M,onSelectionChanged:X,deselectAll:U,deleteSelected:Q,changeTableSettings:b,calculateSummaryItems:F,openDeletePopup:B}}const Bt={class:"page"},It={class:"page-content"},Lt={class:"popup-title"},al={__name:"Clients",setup(o){const{objectEditorRef:r,objectEditorTabs:f,objectEditorFields:p,objectEditorTableColumns:i,objectEditorTableContent:u,objectHasEdited:b,addModalTableRow:w}=tt(),{clientsStore:k,clientEditor:O,mainTableRef:R,tableHeader:q,tableContent:x,tableSettingsHeader:c,hasSelection:e,selectedCount:n,selectedRowsName:T,deleteSelectedPopupRef:M,deleteSinglePopupRef:A,savePopupRef:D,saveObjectPopupRef:U,saveNotifyRef:Q,tableSettingsRef:B,statusOptionsList:X,massEditorRef:F,massEditorTabs:g,massEditorParams:de,massEditorFields:ee,clientEditorRef:N,editorTabs:re,editorData:ue,editorContactColumns:me,editorContactContent:pe,clientHasEdited:be,editorPinnedObjects:fe,objectsAllNames:ce,showSearchObject:Y,editorRequisitesColumns:ve,editorRequisitesContent:Ce,finances:ye,financeHistoryColumns:ge,financeHistoryContent:ke,reports:Z,editorDocsColumns:Ee,editorDocsContent:we,addReportsEmail:Se,onSelectionChanged:je,deselectAll:$e,openDeletePopup:Ve,deleteSelected:Oe,saveConfirmClick:h,cancelSaveClick:Re,openMassEditor:xe,addTableRow:te,addMassEditorFieldsRow:Te,changeTableSettings:Ae,pinObject:De,unpinObject:Pe}=Ht();return(le,s)=>(y(),V(J,null,[t("main",Bt,[a(Le,null,{default:m(()=>[a(E,{class:"btn-filled"},{default:m(()=>[...s[25]||(s[25]=[v("Клиенты",-1)])]),_:1}),a(E,{onClick:s[0]||(s[0]=d=>l(_e).push("/finances"))},{default:m(()=>[...s[26]||(s[26]=[v("Финансы",-1)])]),_:1})]),_:1}),t("div",It,[le.showCalculatedSummary?W("",!0):(y(),H(it,{key:0,"has-selection":l(e),"selected-count":l(n),"status-options":l(X),onDeselectAll:l($e),onDeleteSelected:l(Ve),onOpenMassEditor:l(xe),onChangeStatus:s[1]||(s[1]=d=>console.log("Status:",d)),onCalculateSummary:le.calculateSummaryItems,onOpenSettings:s[2]||(s[2]=d=>l(P)(l(B)))},null,8,["has-selection","selected-count","status-options","onDeselectAll","onDeleteSelected","onOpenMassEditor","onCalculateSummary"])),a(Be,{style:{"margin-top":"20px"},data:l(x),columns:l(q),onRowDblclick:s[3]||(s[3]=d=>l(P)(l(N))),onSelectionChanged:l(je),ref_key:"mainTableRef",ref:R},null,8,["data","columns","onSelectionChanged"])])]),a(Dt,{ref_key:"clientEditorRef",ref:N,"header-title":"Парковочный объект: “ТЦ Ромашка”",tabs:l(re),"inner-width":870,"close-on-overlay-click":!1,"disabled-save-btn":!l(be),"editor-data":l(ue),"client-editor":l(O),"editor-pinned-objects":l(fe),"objects-all-names":l(ce),"show-search-object":l(Y),"onUpdate:showSearchObject":s[4]||(s[4]=d=>he(Y)?Y.value=d:null),finances:l(ye),reports:l(Z),"editor-contact-columns":l(me),"editor-contact-content":l(pe),"editor-requisites-columns":l(ve),"editor-requisites-content":l(Ce),"finance-history-columns":l(ge),"finance-history-content":l(ke),"editor-docs-columns":l(Ee),"editor-docs-content":l(we),onOverlayClick:s[5]||(s[5]=d=>l(P)(l(D))),onSaveClick:l(h),onCloseClick:s[6]||(s[6]=d=>l(j)(l(N))),onAddContactRow:s[7]||(s[7]=d=>l(te)(l(N).contactsTable)),onAddRequisitesRow:s[8]||(s[8]=d=>l(te)(l(N).requisitesTable)),onPinObject:l(De),onUnpinObject:l(Pe),onAddReportsEmail:l(Se),onOpenObjectEditor:s[9]||(s[9]=d=>l(P)(l(r))),onToggleEmailField:s[10]||(s[10]=d=>l(Z).showEmailField=d),onRemoveReportEmail:s[11]||(s[11]=d=>l(Z).emailsToSend.splice(d,1))},null,8,["tabs","disabled-save-btn","editor-data","client-editor","editor-pinned-objects","objects-all-names","show-search-object","finances","reports","editor-contact-columns","editor-contact-content","editor-requisites-columns","editor-requisites-content","finance-history-columns","finance-history-content","editor-docs-columns","editor-docs-content","onSaveClick","onPinObject","onUnpinObject","onAddReportsEmail"]),a(lt,{"header-title":"Парковочный объект: “ТЦ Ромашка”",tabs:l(f),"inner-width":870,"close-on-overlay-click":!1,"disabled-save-btn":!l(b),"object-has-edited":l(b),"object-editor-fields":l(p),"object-editor-table-columns":l(i),"object-editor-table-content":l(u),onOverlayClick:s[12]||(s[12]=d=>l(P)(l(D))),onSaveClick:l(h),onCloseClick:s[13]||(s[13]=d=>l(j)(l(r))),onAddModalTableRow:s[14]||(s[14]=d=>l(w)(l(r).contactsTable)),onOpenDeletePopup:s[15]||(s[15]=d=>l(P)(l(A))),ref_key:"objectEditorRef",ref:r},null,8,["tabs","disabled-save-btn","object-has-edited","object-editor-fields","object-editor-table-columns","object-editor-table-content","onSaveClick"]),a(Ut,{tabs:l(g),"custom-class":"mass-editor-modal","header-title":"Выбрано: 3","mass-editor-fields":l(ee),"mass-editor-params":l(de),onSaveClick:s[16]||(s[16]=d=>console.log("Changes saved!")),onCloseClick:s[17]||(s[17]=d=>l(j)(l(F))),onAddMassEditorFieldsRow:l(Te),onRemoveMassEditorField:s[18]||(s[18]=d=>l(ee).splice(d,1)),ref_key:"massEditorRef",ref:F},null,8,["tabs","mass-editor-fields","mass-editor-params","onAddMassEditorFieldsRow"]),a(Ie,{"table-columns":l(c),onChange:s[19]||(s[19]=d=>l(Ae)(d,l(k),l(R))),ref_key:"tableSettingsRef",ref:B},null,8,["table-columns"]),a(I,{ref_key:"deleteSelectedPopupRef",ref:M,"confirm-style":"red","confirm-text":"Удалить","cancel-text":"Отменить",onConfirm:l(Oe),onCancel:s[20]||(s[20]=d=>l(j)(l(M)))},{default:m(()=>[t("h2",Lt,[s[27]||(s[27]=v(" Удалить клиентов? ",-1)),s[28]||(s[28]=t("br",null,null,-1)),v(" "+G(l(T)),1)])]),_:1},8,["onConfirm"]),a(I,{ref_key:"savePopupRef",ref:D,"confirm-text":"Сохранить","cancel-text":"Не сохранять",onCancel:l(Re),onConfirm:l(h)},{default:m(()=>[...s[29]||(s[29]=[t("h2",{class:"popup-title"},"Сохранить перед выходом?",-1),t("p",{class:"popup-text"},"Без сохранения все изменения будут потеряны!",-1)])]),_:1},8,["onCancel","onConfirm"]),a(I,{ref_key:"saveObjectPopupRef",ref:U,"confirm-text":"Сохранить","cancel-text":"Не сохранять",onCancel:s[21]||(s[21]=d=>l(j)(l(U))),onConfirm:s[22]||(s[22]=d=>(l(j)(l(r)),l(j)(l(U))))},{default:m(()=>[...s[30]||(s[30]=[t("h2",{class:"popup-title"},"Сохранить перед выходом?",-1),t("p",{class:"popup-text"},"Без сохранения все изменения будут потеряны!",-1)])]),_:1},512),a(I,{ref_key:"deleteSinglePopupRef",ref:A,"confirm-style":"red","confirm-text":"Удалить","cancel-text":"Отменить",onConfirm:s[23]||(s[23]=d=>l(j)(l(A))),onCancel:s[24]||(s[24]=d=>l(j)(l(A)))},{default:m(()=>[...s[31]||(s[31]=[t("h2",{class:"popup-title"}," Удалить объект? ",-1)])]),_:1},512),a(qe,{ref_key:"saveNotifyRef",ref:Q},{default:m(()=>[...s[32]||(s[32]=[t("img",{src:Me},null,-1),t("span",null,"Изменения сохранены",-1)])]),_:1},512)],64))}};export{al as default};
