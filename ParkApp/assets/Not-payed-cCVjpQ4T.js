import"./FormField-BBNndfML.js";import{_ as b,c as m,o as l,d as t,w as s,f as u,t as w,r as n,a as N,b as C,F as $,e as T,B as V,u as S,g as D}from"./index-bQY6KpDJ.js";import{B as F}from"./BaseButton-BwphfU3q.js";import{o as f,_ as p}from"./modal-DEuOdaXZ.js";import{B}from"./BaseNotify-DhC_AlqK.js";import{S as Q,N as A,a as O,b as E}from"./NotifiesContainer-Pg7R35xi.js";import{S as q,a as G}from"./SelectPaymentBtn-DL__0kK0.js";import{A as I}from"./AddCardForm-HeKd9uSI.js";import"./tarif-BbAfmYFU.js";/* empty css                                                                      *//* empty css                                                                    */const L={action:"#",class:"session-payment-form"},M={__name:"SessionPaymentForm",props:{priceToPay:{type:String,default:""}},setup(c){return(i,a)=>(l(),m("form",L,[t(q,{onClick:a[0]||(a[0]=d=>i.$emit("selectCard"))}),t(F,{class:"session-payment-form-btn btn-filled"},{default:s(()=>[u("Списать "+w(c.priceToPay),1)]),_:1})]))}},R=b(M,[["__scopeId","data-v-95fab3e2"]]),W={class:"page-content"},se={__name:"Not-payed",setup(c){const i=n(!0),a=n(!0),d=n(null),y=n(null),v=n(null),x=n(""),_=N({sessions:[{licensePlate:"Т 319 ОН 31",enterTime:"сегодня 14:08",parkingPlace:"ТЦ Метрополис",parkingDuration:"01д 05ч 23м",totalPrice:"1000 ₽",fee:"320 ₽",discount:"120 ₽",tarifText:"Первый час - БЕСПЛАТНО <br> с 1 по 2 час - 200 руб/час <br> далее 300 руб/час"},{licensePlate:"Т 319 ОН 31",enterTime:"сегодня 9:13",parkingPlace:"ТЦ Метрополис",parkingDuration:"12ч 23м",totalPrice:"2500 ₽",fee:"320 ₽",discount:"120 ₽",tarifText:"Первый час - БЕСПЛАТНО <br> с 1 по 2 час - 200 руб/час <br> далее 300 руб/час"}]}),g=n({}),k=r=>{const e=r;f(d.value),g.value=e},P=r=>{x.value=r,console.log("QR value:",r)};return(r,e)=>(l(),m("div",W,[e[7]||(e[7]=C("h1",{style:{"margin-top":"25px"}},"Активные сессии",-1)),t(Q,null,{default:s(()=>[(l(!0),m($,null,T(_.sessions,o=>(l(),D(E,{key:o.id,"session-data":o,onClick:j=>k(o)},null,8,["session-data","onClick"]))),128))]),_:1}),t(V),t(A,null,{default:s(()=>[t(B,{"show-notify":i.value,onClose:e[0]||(e[0]=o=>i.value=!1),confirm:!0},{default:s(()=>[...e[5]||(e[5]=[u(" Оплата спишется автоматически после выезда, с карты которую вы прикрепили в личном кабинете. ",-1)])]),_:1},8,["show-notify"]),t(B,{"show-notify":a.value,onClose:e[1]||(e[1]=o=>a.value=!1),type:"danger","has-touch-icon":!0,onClick:e[2]||(e[2]=o=>k(_.sessions[0]))},{default:s(()=>[...e[6]||(e[6]=[u(" У вас имеется задолженность ",-1),C("br",null,null,-1),u(" по предыдущим сессиям! ",-1)])]),_:1},8,["show-notify"])]),_:1}),t(p,{ref_key:"swipeSession",ref:d},{default:s(()=>[t(O,{"session-data":g.value,onGetQrValue:P,"disable-qr":!0,transparent:!0},{default:s(()=>[t(R,{"price-to-pay":"1000 ₽",onSelectCard:e[3]||(e[3]=o=>S(f)(y.value))})]),_:1},8,["session-data"])]),_:1},512),t(p,{ref_key:"paymentOptions",ref:y},{default:s(()=>[t(G,{onAddNewCard:e[4]||(e[4]=o=>S(f)(v.value))})]),_:1},512),t(p,{ref_key:"addCard",ref:v},{default:s(()=>[t(I,{style:{"margin-top":"30px"}})]),_:1},512)]))}};export{se as default};
