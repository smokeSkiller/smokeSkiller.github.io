import{e as d,g as J,o as V,w as C,a as l,b as i,d as k,c as O,x as Q,F as K,j as W,t as X,l as le,D as oe,A as ne,B as D,i as B,C as se}from"./index-iaVJZ9tw.js";import{_ as q}from"./plus-icon-lxHPDhbU.js";import{T as ae}from"./TableModal-DR_FmA9s.js";import{B as j}from"./BaseButton-CNUrt7E6.js";import{F as A}from"./FormField-DFyU_dJ9.js";import{_ as L}from"./FormSelectField-DKGRwksg.js";import{_ as P}from"./SecondaryTable-8zNcad-4.js";import{c as R,o as $}from"./modal-DRTCzFhK.js";import{_ as N,f as G,u as ie}from"./vue-3-slider-component-lab0IWlZ.js";import{_ as de}from"./FilterSortSearch-SdFdygUQ.js";import{_ as re}from"./FilterSortDate-CuMhXrGb.js";import{a as ue}from"./useObjects-CCA0ScS_.js";const ce="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.64645%202.31313C1.84171%202.1179%202.15823%202.11788%202.35348%202.31313L13.6868%2013.6465C13.882%2013.8417%2013.882%2014.1582%2013.6868%2014.3535C13.4916%2014.5487%2013.175%2014.5487%2012.9798%2014.3535L10.5826%2011.9564L10.6074%2012.3392C10.6332%2012.7458%2010.4827%2013.1441%2010.1946%2013.4323C9.64081%2013.9858%208.74323%2013.9858%208.18942%2013.4323L5.89254%2011.1354L3.65361%2013.3743C3.45835%2013.5696%203.14119%2013.5696%202.94593%2013.3743C2.75088%2013.1791%202.7509%2012.8625%202.94593%2012.6673L5.18486%2010.4277L2.88668%208.12954C2.33375%207.57652%202.33376%206.67994%202.88668%206.12693C3.17629%205.83738%203.57709%205.68723%203.98564%205.71547L4.3678%205.74151L1.64645%203.02016C1.45118%202.8249%201.45118%202.50839%201.64645%202.31313ZM3.91663%206.71352C3.79664%206.70525%203.67879%206.74894%203.59371%206.83396C3.43131%206.99645%203.43131%207.26002%203.59371%207.4225L6.23955%2010.0683C6.24164%2010.0704%206.24399%2010.0721%206.24606%2010.0742C6.24785%2010.076%206.2495%2010.0782%206.25126%2010.0801L8.89645%2012.7252C9.05974%2012.8883%209.3243%2012.8883%209.48759%2012.7252C9.57257%2012.6403%209.61698%2012.5223%209.60934%2012.4023L9.51233%2010.886L5.44527%206.81899L3.91663%206.71352Z'%20fill='%23F91B1B'/%3e%3cpath%20d='M7.4928%201.52081C8.17078%200.842835%209.27055%200.842835%209.94853%201.52081L14.7994%206.37172L14.9186%206.50388C15.4747%207.18577%2015.435%208.19185%2014.7994%208.82745C14.3345%209.29215%2013.647%209.4545%2013.0234%209.24672L10.5657%208.42706C10.304%208.33959%2010.1627%208.05673%2010.25%207.7949C10.3374%207.5331%2010.6209%207.39185%2010.8828%207.47914L13.3392%208.29815C13.6035%208.38628%2013.8953%208.31734%2014.0924%208.12042C14.3618%207.85099%2014.3788%207.4245%2014.1432%207.13539L14.0924%207.07875L9.2415%202.22784C8.95405%201.94039%208.48729%201.94039%208.19983%202.22784C8.00291%202.42498%207.93398%202.71673%208.0221%202.9811L8.84111%205.43813C8.92824%205.69994%208.78707%205.98289%208.52535%206.07029C8.26351%206.15754%207.98065%206.01626%207.89319%205.75454L7.07353%203.29685C6.86577%202.67322%207.02812%201.98572%207.4928%201.52081Z'%20fill='%23F91B1B'/%3e%3c/svg%3e",me={class:"fields-group"},pe={class:"field-outer"},be={class:"contact-table-outer"},fe={class:"pinned-objects"},ve={class:"name"},Ce={class:"d-flex align-items-center"},ge=["onClick"],ye={class:"d-flex",style:{"margin-top":"20px"}},we={class:"fields-group"},he={class:"banks"},Ae={class:"d-flex justify-content-between align-items-center w-100"},ke={class:"settings"},Se={class:"d-flex align-items-end",style:{"margin-top":"10px"}},Ee={class:"field"},Ve={class:"field"},xe={class:"field"},Le={class:"history"},Oe={class:"fields-group"},je={class:"field-outer"},Re={class:"field-outer"},Be={class:"field-outer"},Me={class:"email"},Ue={class:"d-flex align-items-center flex-wrap"},Te={class:"text"},Fe=["onClick"],ut={__name:"ClientsEditor",props:{headerTitle:String,tabs:Array,innerWidth:Number,closeOnOverlayClick:Boolean,disabledSaveBtn:Boolean,editorData:Object,clientEditor:Object,editorPinnedObjects:Array,objectsAllNames:Array,showSearchObject:Boolean,finances:Object,reports:Object,editorContactColumns:Array,editorContactContent:Array,editorRequisitesColumns:Array,editorRequisitesContent:Array,financeHistoryColumns:Array,financeHistoryContent:Array,editorDocsColumns:Array,editorDocsContent:Array},emits:["overlay-click","save-click","close-click","add-contact-row","add-requisites-row","pin-object","unpin-object","add-reports-email","open-object-editor"],setup(t,{expose:s,emit:n}){const a=n,u=d(),r=d();d(),d();const m=()=>a("add-contact-row"),g=()=>a("add-requisites-row"),p=c=>a("pin-object",c),y=c=>a("unpin-object",c),w=c=>a("add-reports-email",c),h=()=>a("open-object-editor"),b=d();return s({contactsTable:u,requisitesTable:r,open:()=>b.value?.open?.(),close:()=>b.value?.close?.()}),(c,e)=>(V(),J(ae,{ref_key:"tableModalRef",ref:b,"custom-class":"client-editor","header-title":t.headerTitle,tabs:t.tabs,"inner-width":t.innerWidth,"close-on-overlay-click":t.closeOnOverlayClick,"disabled-save-btn":t.disabledSaveBtn,onOverlayClick:e[21]||(e[21]=o=>c.$emit("overlay-click")),onSaveClick:e[22]||(e[22]=o=>c.$emit("save-click")),onCloseClick:e[23]||(e[23]=o=>c.$emit("close-click"))},{data:C(()=>[e[25]||(e[25]=l("h3",{style:{"margin-bottom":"30px"}},"Данные о компании",-1)),l("div",me,[i(A,{name:"name",modelValue:t.editorData.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.editorData.name=o),label:"Название"},null,8,["modelValue"]),i(A,{name:"phone",modelValue:t.editorData.phone,"onUpdate:modelValue":e[1]||(e[1]=o=>t.editorData.phone=o),label:"Телефон"},null,8,["modelValue"]),i(A,{name:"email",modelValue:t.editorData.email,"onUpdate:modelValue":e[2]||(e[2]=o=>t.editorData.email=o),label:"E-mail"},null,8,["modelValue"]),i(A,{name:"address",modelValue:t.editorData.address,"onUpdate:modelValue":e[3]||(e[3]=o=>t.editorData.address=o),label:"Адрес"},null,8,["modelValue"]),l("div",pe,[e[24]||(e[24]=l("label",null,[k("Статус "),l("br"),k(" клиента")],-1)),i(L,{modelValue:t.editorData.status,"onUpdate:modelValue":e[4]||(e[4]=o=>t.editorData.status=o),options:t.editorData.statusOptions,name:"client-status"},null,8,["modelValue","options"])])])]),contacts:C(()=>[e[28]||(e[28]=l("h3",{style:{"margin-bottom":"30px"}},"Контактные лица",-1)),l("div",be,[i(P,{style:{"margin-top":"20px"},columns:t.editorContactColumns,data:t.editorContactContent,id:"client-contact-table",ref_key:"contactsTableRef",ref:u},null,8,["columns","data"]),e[26]||(e[26]=l("div",{class:"comment-popup"},[l("input",{type:"text",placeholder:"Ваш комментарий"})],-1))]),i(j,{class:"btn-filled",onClick:m,style:{"margin-top":"20px"}},{default:C(()=>[...e[27]||(e[27]=[k(" Добавить новый контакт ",-1)])]),_:1})]),"pinned-objects":C(()=>[e[33]||(e[33]=l("h3",{style:{"margin-bottom":"30px"}},"Объекты ООО “ШишмаОйл”",-1)),l("div",fe,[l("ul",null,[(V(!0),O(K,null,W(t.editorPinnedObjects,o=>(V(),O("li",{key:o.id},[l("span",ve,X(o.name),1),l("div",Ce,[l("button",{class:"unpin-btn",onClick:x=>y(o.id)},[...e[29]||(e[29]=[l("img",{src:ce},null,-1)])],8,ge),l("button",{class:"open-btn",onClick:h},[...e[30]||(e[30]=[l("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M6.5 0.5H2.5C1.39543 0.5 0.5 1.39543 0.5 2.5V12.5C0.5 13.6046 1.39543 14.5 2.5 14.5H12.5C13.6046 14.5 14.5 13.6046 14.5 12.5V7.75M14.5 0.5H10.5M14.5 0.5V4.5M14.5 0.5L4.5 10.5",stroke:"#343434","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])])]))),128))]),t.showSearchObject?(V(),J(A,{key:0,name:"search-object",modelValue:t.clientEditor.searchObject,"onUpdate:modelValue":e[5]||(e[5]=o=>t.clientEditor.searchObject=o),label:"Объект",items:t.objectsAllNames,style:{"margin-top":"20px"},onSelect:p},null,8,["modelValue","items"])):Q("",!0),l("div",ye,[i(j,{class:"btn-filled pin-btn",onClick:e[6]||(e[6]=o=>c.$emit("update:showSearchObject",!0))},{default:C(()=>[...e[31]||(e[31]=[k(" Прикрепить объект ",-1)])]),_:1}),i(j,{class:"add-btn",onClick:h},{default:C(()=>[...e[32]||(e[32]=[l("img",{src:q},null,-1),k(" Добавить объект ",-1)])]),_:1})])])]),requisites:C(()=>[e[36]||(e[36]=l("h3",{style:{"margin-bottom":"30px"}},"Реквизиты юр.лица",-1)),l("div",we,[i(A,{modelValue:t.clientEditor.requisites.billingName,"onUpdate:modelValue":e[7]||(e[7]=o=>t.clientEditor.requisites.billingName=o),label:"Наименование юр.лица","label-width":"120"},null,8,["modelValue"]),i(A,{modelValue:t.clientEditor.requisites.ceoName,"onUpdate:modelValue":e[8]||(e[8]=o=>t.clientEditor.requisites.ceoName=o),label:"ФИО ген. директора","label-width":"120"},null,8,["modelValue"]),i(A,{modelValue:t.clientEditor.requisites.billingAddress,"onUpdate:modelValue":e[9]||(e[9]=o=>t.clientEditor.requisites.billingAddress=o),label:"Юр.адрес","label-width":"120"},null,8,["modelValue"]),i(A,{modelValue:t.clientEditor.requisites.inn,"onUpdate:modelValue":e[10]||(e[10]=o=>t.clientEditor.requisites.inn=o),label:"ИНН","label-width":"120"},null,8,["modelValue"]),i(A,{modelValue:t.clientEditor.requisites.kpp,"onUpdate:modelValue":e[11]||(e[11]=o=>t.clientEditor.requisites.kpp=o),label:"КПП","label-width":"120"},null,8,["modelValue"])]),l("div",he,[l("div",Ae,[e[35]||(e[35]=l("h3",null,"Банковские счета",-1)),i(j,{class:"btn-filled add-bank-btn",onClick:g},{default:C(()=>[...e[34]||(e[34]=[l("img",{src:q},null,-1),k(" Добавить счёт ",-1)])]),_:1})]),i(P,{style:{"margin-top":"20px"},ref_key:"requisitesTableRef",ref:r,columns:t.editorRequisitesColumns,data:t.editorRequisitesContent},null,8,["columns","data"])])]),finances:C(()=>[e[45]||(e[45]=l("div",{class:"conditions"},[l("h3",{style:{"margin-bottom":"20px"}},"Условия"),l("div",{class:"row"},[l("span",{class:"text"},"Тип комиссии"),l("span",{class:"text"},[l("b",null,"Процент от оборота")])]),l("div",{class:"row"},[l("span",{class:"text"},"Ставка"),l("span",{class:"text"},[l("b",null,"15%")])])],-1)),l("div",ke,[e[41]||(e[41]=l("h3",{style:{"margin-bottom":"25px"}},"Настройки",-1)),e[42]||(e[42]=l("p",{class:"text"},"Выплачивать каждые:",-1)),l("div",Se,[l("div",Ee,[e[37]||(e[37]=l("span",{class:"label"},"Интервал",-1)),i(L,{modelValue:t.finances.interval,"onUpdate:modelValue":e[12]||(e[12]=o=>t.finances.interval=o),options:t.finances.intervalOptions,width:"45"},null,8,["modelValue","options"])]),l("div",Ve,[e[38]||(e[38]=l("span",{class:"label"},"Период",-1)),i(L,{modelValue:t.finances.period,"onUpdate:modelValue":e[13]||(e[13]=o=>t.finances.period=o),options:t.finances.periodOptions,width:"80"},null,8,["modelValue","options"])]),l("div",xe,[e[39]||(e[39]=l("span",{class:"label"},"Число",-1)),i(L,{modelValue:t.finances.number,"onUpdate:modelValue":e[14]||(e[14]=o=>t.finances.number=o),options:t.finances.numberOptions,width:"60"},null,8,["modelValue","options"])]),i(j,{class:"btn-filled settings-btn"},{default:C(()=>[...e[40]||(e[40]=[k("Применить",-1)])]),_:1})]),e[43]||(e[43]=l("div",{style:{"margin-top":"15px"}},[l("p",{class:"text"},"Текущее расписание: "),l("p",{class:"text",style:{"margin-top":"10px"}},[l("b",null,"Выплата каждые 1 месяц 5-го числа")])],-1))]),l("div",Le,[e[44]||(e[44]=l("h3",{style:{"margin-bottom":"30px"}},"История выплат",-1)),i(P,{style:{"margin-top":"20px"},columns:t.financeHistoryColumns,data:t.financeHistoryContent},null,8,["columns","data"])])]),reports:C(()=>[e[52]||(e[52]=l("h3",{style:{"margin-bottom":"30px"}},"Отчёты",-1)),l("div",Oe,[l("div",je,[e[46]||(e[46]=l("label",{class:"reports-label",style:{width:"90px"}},"Тип отчёта",-1)),i(L,{modelValue:t.reports.type,"onUpdate:modelValue":e[15]||(e[15]=o=>t.reports.type=o),options:t.reports.typeOptions,name:"reports-type"},null,8,["modelValue","options"])]),l("div",Re,[e[47]||(e[47]=l("label",{class:"reports-label",style:{width:"90px"}},"Период",-1)),i(L,{modelValue:t.reports.period,"onUpdate:modelValue":e[16]||(e[16]=o=>t.reports.period=o),options:t.reports.periodOptions,name:"reports-period"},null,8,["modelValue","options"])]),l("div",Be,[e[48]||(e[48]=l("label",{class:"reports-label",style:{width:"90px"}},"Объекты",-1)),i(L,{modelValue:t.reports.objects,"onUpdate:modelValue":e[17]||(e[17]=o=>t.reports.objects=o),options:t.reports.objectsOptions,name:"reports-objects"},null,8,["modelValue","options"])])]),l("div",Me,[e[51]||(e[51]=l("h4",null,"E-mail для отправки отчёта:",-1)),l("div",Ue,[(V(!0),O(K,null,W(t.reports.emailsToSend,(o,x)=>(V(),O("div",{class:"email-item",key:x},[l("span",Te,X(o),1),l("button",{class:"remove-btn",onClick:S=>c.$emit("remove-report-email",x)},[...e[49]||(e[49]=[l("span",null,null,-1),l("span",null,null,-1)])],8,Fe)]))),128)),t.reports.showEmailField?(V(),O("input",{key:0,type:"email",class:"email-field",placeholder:"email@example",onKeydown:e[18]||(e[18]=le(oe(o=>w(o.target.value),["prevent"]),["enter"])),onChange:e[19]||(e[19]=o=>w(o.target.value))},null,32)):Q("",!0),t.reports.showEmailField?Q("",!0):(V(),O("button",{key:1,class:"add-btn",onClick:e[20]||(e[20]=o=>c.$emit("toggle-email-field",!0))},[...e[50]||(e[50]=[l("img",{src:q},null,-1),k(" Добавить ",-1)])]))])])]),docs:C(()=>[e[54]||(e[54]=l("h3",null,"Договоры и акты",-1)),i(P,{style:{"margin-top":"30px"},columns:t.editorDocsColumns,data:t.editorDocsContent},null,8,["columns","data"]),i(j,{class:"btn-filled",style:{"margin-top":"30px"}},{default:C(()=>[...e[53]||(e[53]=[k("Загрузить новый документ",-1)])]),_:1})]),_:1},8,["header-title","tabs","inner-width","close-on-overlay-click","disabled-save-btn"]))}},Ie="data:image/svg+xml,%3csvg%20width='6'%20height='11'%20viewBox='0%200%206%2011'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%2010.5L3%200.5M3%200.5L5.5%203M3%200.5L0.5%203'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",De="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.66406%207.33334V11.3333'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.33594%207.33334V11.3333'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.66406%204.66666H13.3307'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%204.66666H8H12V11C12%2012.6568%2010.6569%2014%209%2014H7C5.34315%2014%204%2012.6568%204%2011V4.66666Z'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%204C6%202.89543%206.89543%202%208%202V2C9.10457%202%2010%202.89543%2010%204V4.66667H6V4Z'%20stroke='%23343434'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Pe="data:image/png;base64,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",ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE+0lEQVR4nO2c7YuUVRTA52P9B7MmSgVFSIQfIvsiShR9KQJ7o4KgCJKg6O2MbaKuiu4WWkKKti6mtGHJlumCqxO7mSmbkDYvO7Pr7uzb3Z32zZnZ2feBeOKa24xzz515jIk99z7nwO/LzLnPwP3N89xz7h3G5+Pg4ODg4ODg4CAY/kBorR/CQfMINazc2neHz7bwfxh+rgrCjon4IXR2+buX7vTZFCYLqbJRimlC1u3ptluKaUL2to47dcExe6WYKERk/7JXiqlChK1STBYibJRiuhBhmxQbhAibpNgiRNgixSYhwgYptgkRpkuxUYgwWYqtQoSpUmwWIkyUYrsQYZoULwgRJknxihBhihQvCREmSPGaEEFdiheFCL2UZ5fah2eFCESKnIul9mGckNU74876vd0VY0V1hIVUEYWFAC1YCNCChQAtWAjQgoUALVgI0IKFAC1YCNCChQAtWAjQgoUALVgI0IKFAC1YCNCChQAtrBFS/YNwWmNphfoLo9ox25uHlfyWSMq5K4Dnv3S4F/2MM5GUs0wzxrNCPjgx6ORyOYXU1Lx2sqJDU+iYdXu60PwDbSNofntiku+QYh77rAudrFwu5zyyO67k37cl6swv4PnvfTeIfkZbPI3mH/x5hIUUs3xTxMlMz6MT9uqRXiX/+S8TWoGN7ePoZyRTs2j+xsZ+FoJxsTuDTtgnLUklt/ZMUisknpxW8h/aEdPmr6lV70AWAmHni1b8GX/6j5SSKxdi3QQvLOScB7Z1KAs6ljuWmavYgm6dkDeO9aGT1jM6c0uenMCRNP74WUQKKByzo3kYzTsXVWWzkJs8vCuu/cbLRXwx79G6zpIyJJ+evfUx1/T7hOvHIQspYFiz8D61P/+HMW99019WiOwvCq/bMTSN5r3SoBYMLMTF2hBoEv/mHL4wWlaI7F9k5SbzV1ZHnNn5BTTvwe0xFlKK3Zrq6cjF/G9or/RnywqRrL/ZID7x+TX0/UTR2sRCEF6oT5Tspu/5OOrMzKnfduy190/80yC+fXwAveb3V66zkHLcv7UD7cBl0yj3qJ450IO+J0tjXYN46Dz+iNvy4xALcUNnEl+AZXVVc1otX9s60zc2J4tfl9eR1/ulC284n97fw0LccPwyXqK+frTPOYXcCbLEfRxZJ2S5vKom5oxm5pT35CJ/7+Z8Kc1CSrCpSf22L068mFDL4hfre29UVBNZdeJ1u8hXB7IVl2GtkCf3XdNOYvFrcr2R644cF+xIuRoj+aqgamMhZVjxUcTJzuA7v8WEB6dcbTgW8863AyzkdmhPTLqa2IZf8yeKGw6qFZgO3SEWC9FwSFOqljrLuFvToxSTns538SzEJRsby+9XSeSGZOG431zcWee7Mv+LDKuFrKnFd34LGbo+6/pMpZB9P/3JQm6XZYEw2j8UcvKquvUhj3vLCXntaB8L+S+ci+pPBSWbT6pbH7IRlA1hqXGrd1Z2h9czQupaSpexsl/Bxskzdd0YgTzmWIhLXm7QP35knyL7FWzcsUtj2nHNocoe2XpKyKqamDM+OYcif6GoG/fm1/3acdtOVX6H1zNCqgyEhQAtWAjQgoUALVgI0IKFAC1YCNCChQAtWAjQgoUALVgI0IKFAC1YCNCChQAtWAjQgoUALVgI0IKFAC1YCNCChQAtaAgJhNb6IRxkwkE5F0vtg4ODg4ODg4ODw4fE3wSmQQOO8sdLAAAAAElFTkSuQmCC",He="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%2010.1143L10.8497%208.17116C11.0627%207.94295%2011.4088%207.94295%2011.6208%208.17116C11.8338%208.39937%2011.8338%208.77171%2011.6208%208.99992L9.67075%2011.0494C9.03175%2011.7363%208.00075%2011.7384%207.35975%2011.0494L5.40975%208.99992C5.19675%208.77171%205.19675%208.39937%205.40975%208.17116C5.62175%207.94295%205.96775%207.94295%206.18075%208.17116L8%2010.0822V1.55556C8%201.24873%208.22386%201%208.5%201C8.77614%201%209%201.24873%209%201.55556V10.1143ZM4.17972%206C3.70743%206%203.3008%206.33646%203.20818%206.80388L2.01924%2012.8039C2.00644%2012.8685%202%2012.9341%202%2013C2%2013.5523%202.44359%2014%202.99078%2014H14.009C14.0743%2014%2014.1394%2013.9935%2014.2033%2013.9806C14.7399%2013.8723%2015.0879%2013.3454%2014.9806%2012.8039L13.7916%206.80388C13.699%206.33646%2013.2924%206%2012.8201%206H4.17972ZM6%205V6H11V5H12.8253C13.771%205%2014.5852%205.67292%2014.7707%206.60777L15.9611%2012.6078C16.176%2013.6909%2015.4792%2014.7445%2014.4047%2014.9612C14.2766%2014.987%2014.1463%2015%2014.0156%2015H2.98397C1.88826%2015%201%2014.1046%201%2013C1%2012.8683%201.01291%2012.7369%201.03853%2012.6078L2.22891%206.60777C2.41438%205.67292%203.22863%205%204.17436%205H6Z'%20fill='%23343434'/%3e%3c/svg%3e",z=ne("clients",{state:()=>({mainTable:{columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",hozAlign:"center",headerSort:!1,width:30},{field:"name",title:"Название",headerSort:!1,width:140},{field:"geopos",title:"Геопозиция",headerSort:!1,width:150},{field:"country",title:"Страна",headerSort:!1,width:120},{field:"city",title:"Город",headerSort:!1,width:120},{field:"address",title:"Адрес",headerSort:!1},{field:"status",title:"Статус",headerSort:!1,width:160},{field:"lang",title:"Язык",headerSort:!1,width:120},{field:"currency",title:"Валюта",headerSort:!1,width:120},{field:"pp",title:"%PP",headerSort:!1,width:120},{field:"commission",title:"Комиссия",headerSort:!1}],content:[{id:1,name:"ТЦ Ромашка",geopos:"Россия",country:"Россия",city:"Пенза",address:"Светлая, 13",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:10,total_sum:1e4,average_length:670,average_sum:340},{id:2,name:"ТЦ Метрополис",geopos:"Россия",country:"Россия",city:"Москва",address:"Большая Полянка, 31",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:15,total_sum:7e3,average_length:265,average_sum:775},{id:3,name:"ТЦ Таганка",geopos:"Россия",country:"Россия",city:"Пенза",address:"Светлая, 13",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:10,total_sum:11e3,average_length:560,average_sum:900},{id:4,name:"ТЦ Лорисы",geopos:"Россия",country:"Россия",city:"Пенза",address:"Светлая, 13",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:10,total_sum:8e3,average_length:654,average_sum:340},{id:5,name:"ТЦ Долиной",geopos:"Россия",country:"Россия",city:"Москва",address:"Большая Полянка, 31",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:15,total_sum:1e4,average_length:344,average_sum:775},{id:6,name:"ТЦ Хата",geopos:"Россия",country:"Россия",city:"Пенза",address:"Светлая, 13",status:"Действующий",commission:"Включена",lang:"RU",currency:"Рубль",pp:10,total_sum:1e4,average_length:455,average_sum:900}]},clientEditor:{tabs:[{name:"data",label:"Общая информация"},{name:"contacts",label:"Контактные лица"},{name:"pinned-objects",label:"Объекты"},{name:"requisites",label:"Реквизиты"},{name:"finances",label:"Финансы"},{name:"reports",label:"Отчёты"},{name:"docs",label:"Документы"}],dataFields:{name:"ООО Промкреп",phone:"+7 987 650-18-32",email:"promkrep@yandex.ru",address:"г. Москва, ул. Салютовская 6а",status:"Действующий",statusOptions:[{label:"Действующий",value:"active"},{label:"Отключен",value:"disabled"}]},contacts:{columns:[{field:"name",title:"ФИО",width:121,headerSort:!1,editor:"input"},{field:"position",title:"Должность",width:98,headerSort:!1,editor:"input"},{field:"phone",title:"Телефон",headerSort:!1,editor:"input",editorParams:{mask:"+7 (999) 999-99-99",selectContents:!0,maskAutoFill:!0}},{field:"email",title:"E-mail",headerSort:!1,editor:"input"},{title:"",field:"actions",hozAlign:"center",headerSort:!1,width:60,formatter:function(){return`
                  <div class="table-action">
                    <button class="comment-btn">
                      <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M0 6.5C0 2.91015 2.91015 0 6.5 0C10.0899 0 13 2.91015 13 6.5C13 10.0899 10.0899 13 6.5 13H1.07143C0.479696 13 0 12.5203 0 11.9286V6.5ZM6.5 1C3.46243 1 1 3.46243 1 6.5V11.9286C1 11.968 1.03198 12 1.07143 12H6.5C9.53757 12 12 9.53757 12 6.5C12 3.46243 9.53757 1 6.5 1Z" fill="#343434"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33333 4.5C3.33333 4.22386 3.55719 4 3.83333 4H8.5C8.77614 4 9 4.22386 9 4.5C9 4.77614 8.77614 5 8.5 5H3.83333C3.55719 5 3.33333 4.77614 3.33333 4.5Z" fill="#343434"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33333 6.5C3.33333 6.22386 3.55719 6 3.83333 6H8.5C8.77614 6 9 6.22386 9 6.5C9 6.77614 8.77614 7 8.5 7H3.83333C3.55719 7 3.33333 6.77614 3.33333 6.5Z" fill="#343434"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M3.33333 8.5C3.33333 8.22386 3.55719 8 3.83333 8H5.83333C6.10948 8 6.33333 8.22386 6.33333 8.5C6.33333 8.77614 6.10948 9 5.83333 9H3.83333C3.55719 9 3.33333 8.77614 3.33333 8.5Z" fill="#343434"/>
                      </svg>
                    </button>

                    <button class="delete-btn">
                      <img src="${N}" />
                    </button>
                  </div>

                  <div class="comment-popup">
                    <div class="top">
                      <button class="delete-comment">  
                        <img src="${De}" />
                      </button>

                      <button class="close-popup">  
                        <span></span>
                        <span></span>
                      </button>
                    </div>

                    <div class="comment-content">
                      <input type="text" placeholder="Ваш комментарий" />

                      <button class="save-comment">
                        <img src="${Ie}" />
                      </button>
                    </div>
                  </div>
                `},cellClick:function(t,s){const n=s.getRow(),a=n.getPosition(),u=s.getElement(),r=z().clientEditor.contacts,m=u.querySelector(".comment-popup"),g=m.querySelector("input"),p=g.value,y=m.querySelector(".top"),w=u.querySelector(".comment-btn"),h=u.querySelector(".save-comment");t.target.closest(".comment-btn")&&(g.value=n.getData().comment,m.classList.contains("is-opened")?b():(b(),m.classList.add("is-opened"),w.classList.add("active")),g.value!==""?y.classList.add("active"):y.classList.remove("active"),h.disabled=!0),g.addEventListener("input",()=>{g.value!==""?h.disabled=!1:h.disabled=!0}),t.target.closest(".save-comment")&&(r.content[a-1].comment=p,n.update({comment:p}),b()),t.target.closest(".close-popup")&&b(),t.target.closest(".delete-comment")&&(r.content[a-1].comment="",n.update({comment:""}),b());function b(){n.getTable().element.querySelectorAll(".comment-popup").forEach(c=>{c.classList.remove("is-opened")}),n.getTable().element.querySelectorAll(".comment-btn").forEach(c=>{c.classList.remove("active")})}t.target.closest(".delete-btn")&&n.delete()}}],content:[{name:"Петров Виктор Сидорович",position:"Ген.директор",phone:"+7 (495) 123-45-67",email:"petrov.vs@centercity.ru",comment:""},{name:"Сидорова Анна Михайловна",position:"Главный инженер",phone:"+7 (916) 100-20-30",email:"sidorova.am@city.ru",comment:""},{name:"Ковалев Игорь Дмитриевич",position:"Менеджер парковки",phone:"+7 (495) 123-45-67",email:"kovalev.id@centercity.ru",comment:""}]},pinnedObjectsId:[4,5,6],searchObject:"",requisites:{billingName:"ООО “ШишмаОйл”",ceoName:"Иванов Иван Иванович",billingAddress:"Москва, ул. Тверская, д.16",inn:188000989,kpp:165461634,banks:{columns:[{field:"bankName",title:"Банк",width:95,headerSort:!1,editor:"input"},{field:"bankAccount",title:"Расч.счёт",width:165,headerSort:!1,editor:"input"},{field:"bankBik",title:"БИК",width:85,headerSort:!1,editor:"input"},{field:"corrAccount",title:"Корр.счёт",width:160,headerSort:!1,editor:"input"},{title:"",field:"actions",hozAlign:"center",headerSort:!1,formatter:function(){return`
                    <div class="table-action">
                      <button class="delete-btn">
                        <img src="${N}" />
                      </button>
                      
                      <button class="star-btn">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M7.04634 4.2603C7.34569 3.33899 8.6491 3.33899 8.94845 4.2603L9.41932 5.70948C9.55319 6.1215 9.93715 6.40046 10.3704 6.40046H11.8941C12.8629 6.40046 13.2656 7.64008 12.4819 8.20948L11.2492 9.10512C10.8987 9.35976 10.752 9.81113 10.8859 10.2232L11.3568 11.6723C11.6561 12.5936 10.6016 13.3598 9.81792 12.7904L8.58518 11.8947C8.23469 11.6401 7.7601 11.6401 7.40961 11.8947L6.17687 12.7904C5.39316 13.3598 4.33868 12.5936 4.63803 11.6723L5.10889 10.2232C5.24277 9.81113 5.09611 9.35976 4.74562 9.10512L3.51288 8.20948C2.72917 7.64008 3.13194 6.40046 4.10066 6.40046H5.62442C6.05764 6.40046 6.4416 6.1215 6.57547 5.70948L7.04634 4.2603Z" stroke="#343434" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </button>
                    </div>
                  `},cellClick:function(t,s){const n=s.getRow();t.target.closest(".star-btn")&&t.target.closest(".star-btn").classList.toggle("active"),t.target.closest(".delete-btn")&&n.delete()}}],content:[{bankName:'АО "Т-Банк"',bankAccount:"40702810838050002000",bankBik:"044525256",corrAccount:"30101810145250000999"},{bankName:"ПАО Сбербанк",bankAccount:"40702810838050002000",bankBik:"044525256",corrAccount:"30101810145250000999"},{bankName:'Банк “ВТБ"',bankAccount:"40702810838050002000",bankBik:"044525256",corrAccount:"30101810145250000999"}]}},finances:{interval:1,intervalOptions:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],period:"Месяц",periodOptions:[{value:"days",label:"Дней"},{value:"month",label:"Месяц"},{value:"week",label:"Неделю"}],number:"5-е",numberOptions:[{value:"1-е",label:"1-е"},{value:"2-е",label:"2-е"},{value:"3-е",label:"3-е"},{value:"4-е",label:"4-е"},{value:"5-е",label:"5-е"}],history:{columns:[{field:"id",title:"ID выплаты",width:100,headerSort:!1},{field:"date",title:"Дата",width:95,headerSort:!1},{field:"sum",title:"Сумма",width:85,headerSort:!1,formatter:function(t){return`${t.getValue().toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/,/g,".")} ₽`}},{field:"paymentOrder",title:"Платёжное поручение",width:180,headerSort:!1},{field:"status",title:"Статус",headerSort:!1,formatter:function(t){const s=t.getValue();return{paid:'<span class="status status-paid">Выполнено</span>',canceled:'<span class="status status-canceled">Отменено</span>'}[s]??s}}],content:[{id:"PY-7842",date:"12.12.2025",sum:32150,paymentOrder:"№125 от 15.05.2024",status:"paid"},{id:"PY-7842",date:"15.12.2025",sum:147150,paymentOrder:"№125 от 15.05.2024",status:"canceled"},{id:"PY-7842",date:"12.12.2025",sum:45340,paymentOrder:"№125 от 15.05.2024",status:"paid"},{id:"PY-7842",date:"12.12.2025",sum:32150,paymentOrder:"№125 от 15.05.2024",status:"paid"}]}},reports:{type:"Сверка платежей",typeOptions:[{label:"Сверка платежей",value:"payment"},{label:"Сверка мест",value:"places"}],period:"1-31 марта 2024",periodOptions:[{label:"1-31 марта 2024",value:"march"},{label:"1-31 апреля 2024",value:"april"},{label:"1-31 мая 2024",value:"may"}],objects:"Все объекты",objectsOptions:[{label:"Все объекты",value:"all"},{label:"Объект 1",value:"object1"},{label:"Объект 2",value:"object2"}],emailsToSend:["promkrep@yandex.ru","ivanov@mail.ru"],showEmailField:!1},docs:{columns:[{field:"doc",title:"Документ",width:225,headerSort:!1,editor:"input",formatter:function(t){if(t.getValue().endsWith(".pdf"))return`<img src="${Pe}" class="file-icon" /> <u>${t.getValue()}</u>`;if(t.getValue().endsWith(".docx"))return`<img src="${ze}" class="file-icon" /> <u>${t.getValue()}</u>`}},{field:"type",title:"Тип",width:155,headerSort:!1,editor:"input"},{field:"date",title:"Дата",width:95,headerSort:!1,editor:"input"},{field:"action",title:"Действия",headerSort:!1,formatter:function(){return`
                <div class="table-action">
                  <button class="upload-btn">
                    <img src="${He}" />
                  </button>

                  <button class="delete-btn">
                    <img src="${N}" />
                  </button>
                </div>
              `},cellClick:function(t,s){const n=s.getRow();t.target.closest(".upload-btn")&&console.log("Выгрузка данных"),t.target.closest(".delete-btn")&&n.delete()}}],content:[{doc:"Договор аренды_версия2.pdf",type:"Договор аренды",date:"от 15.10.2025"},{doc:"Акт сверки.docx",type:"Акт сверки арендных платежей",date:"от 15.10.2025"},{doc:"Договор аренды_версия2.pdf",type:"Договор аренды",date:"от 15.10.2025"},{doc:"Акт сверки.docx",type:"Акт сверки арендных платежей",date:"от 15.10.2025"},{doc:"Договор аренды_версия2.pdf",type:"Договор аренды",date:"от 15.10.2025"},{doc:"Акт сверки.docx",type:"Акт сверки арендных платежей",date:"от 15.10.2025"},{doc:"Договор аренды_версия2.pdf",type:"Договор аренды",date:"от 15.10.2025"},{doc:"Акт сверки.docx",type:"Акт сверки арендных платежей",date:"от 15.10.2025"}]}},massEditor:{params:[{label:"Геопозиция",value:"geopos"},{label:"Страна",value:"country"},{label:"Город",value:"city"},{label:"Адрес",value:"address"},{label:"Статус",value:"status"},{label:"Язык",value:"lang"},{label:"Валюта",value:"currency"},{label:"%PP",value:"pp"},{label:"Комиссия",value:"commission"}]}})});function Ye(){return{applyFiltersToColumns:(s,n,a)=>n.map(u=>u.field==="name"?{...u,headerClickPopup(){const r=document.createElement("div");return D(G,{onSelectSortOrder(){a(s,"name")}}).mount(r),r}}:u.field==="geopos"?{...u,headerClickPopup(){const r=document.createElement("div");return D(G,{onSelectSortOrder(){a(s,"geopos")}}).mount(r),r}}:u.field==="country"?{...u,headerClickPopup(){const r=document.createElement("div");return D(re,{onSelectSortOrder(){a(s,"country")},onSelectCompareState(){a(s,"country")},onSelectDate(){a(s,"country")},onSelectDateRange(){a(s,"country")}}).mount(r),r}}:u.field==="city"?{...u,headerClickPopup(){const r=document.createElement("div");return D(de,{onSelectSortOrder(){a(s,"city")},dropdownItems:[{name:"Пенза"},{name:"Мосва"},{name:"Самара"},{name:"Екатеринбург"},{name:"Кемерово"}],onSelectCheckbox(){a(s,"city")}}).mount(r),r}}:u)}}const Ze=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);function Qe(){const t=z(),s=ue(),n=t.clientEditor,a=d(null),u=d(null),r=d(null),m=d(null),g=d(null),p=d(null),y=d(null),w=d(null),h=d(null);const b=d(n.tabs),c=d(!1),e=B(()=>n.dataFields),o=n.contacts.columns,x=n.contacts.content,S=B(()=>n.pinnedObjectsId),T=B(()=>s.mainTable.content.filter(v=>S.value.includes(v.id))),M=B(()=>s.mainTable.content.filter(E=>!S.value.includes(E.id)).map(E=>E.name)),H=d(!1),Y=n.requisites.banks.columns,Z=n.requisites.banks.content,U=n.finances,F=U.history.columns,f=U.history.content,I=n.reports,_=n.docs.columns,ee=n.docs.content;t.$subscribe((v,E)=>{c.value=!0});return{objectsStore:s,clientEditor:n,clientEditorRef:a,contactsTableRef:u,requisitesTableRef:r,financesHistoryTableRef:m,docsTableRef:g,savePopupRef:p,saveObjectPopupRef:y,saveNotifyRef:w,deleteSinglePopupRef:h,editorTabs:b,editorData:e,clientHasEdited:c,editorContactColumns:o,editorContactContent:x,objectsId:S,editorPinnedObjects:T,objectsAllNames:M,showSearchObject:H,editorRequisitesColumns:Y,editorRequisitesContent:Z,finances:U,financeHistoryColumns:F,financeHistoryContent:f,reports:I,editorDocsColumns:_,editorDocsContent:ee,addReportsEmail:v=>{Ze(v)&&!I.emailsToSend.includes(v)&&(I.emailsToSend.push(v),I.showEmailField=!1)},pinObject:v=>{const E=s.mainTable.content.find(te=>te.name===v);S.value.push(E.id)},unpinObject:v=>{n.pinnedObjectsId=S.value.filter(E=>E!==v)},saveConfirmClick:()=>{R(p.value),R(a.value),$(w.value),setTimeout(()=>R(w.value),3e3)},cancelSaveClick:()=>{R(p.value),R(a.value)},addTableRow:v=>{v.getTable().addRow()}}}function qe(t){const s=z(),n=d(null),a=d([{name:"edit",label:"Массовое редактирование"}]),u=d(s.massEditor.params),r=se([{}]);return{massEditorRef:n,massEditorTabs:a,massEditorParams:u,massEditorFields:r,openMassEditor:()=>t.openMassEditor(n),addMassEditorFieldsRow:()=>t.addMassEditorFieldsRow(r)}}function ct(){const t=z(),s=ie(),{hasSelection:n,selectedCount:a,selectedRows:u,selectedRowsName:r,changeTableSettings:m,addResetFilterBtn:g}=s,p=d(null),y=B(()=>t.mainTable.columns),w=B(()=>t.mainTable.content),h=d(null),b=y.value.filter(f=>f.formatter!=="rowSelection").map(f=>({field:f.field,title:f.title})),c=d(null),e=d([{value:"active",title:"Действующий"},{value:"stopped",title:"Приостановлен"},{value:"disabled",title:"Неактивный"},{value:"status-1",title:"Статус 1"},{value:"status-2",title:"Статус 2"}]),{applyFiltersToColumns:o}=Ye();t.mainTable.columns=o(p,y.value,g);const x=Qe(),S=qe(s),T=d([]),M=d(!1),H=()=>s.deselectAll(p),Y=()=>s.deleteSelected(p,()=>R(c.value)),Z=()=>$(c.value),U=f=>{s.onSelectionChanged(f,"name"),M.value&&F()},F=()=>{M.value=!0,T.value=u.value.map(f=>({name:f.name,average_length:f.average_length,average_sum:f.average_sum,total_sum:f.total_sum}))};return{clientsStore:t,mainTableRef:p,tableHeader:y,tableContent:w,tableSettingsHeader:b,hasSelection:n,selectedCount:a,selectedRows:u,selectedRowsName:r,deleteSelectedPopupRef:c,tableSettingsRef:h,statusOptionsList:e,showCalculatedSummary:M,summaryItems:T,...x,...S,onSelectionChanged:U,deselectAll:H,deleteSelected:Y,changeTableSettings:m,calculateSummaryItems:F,openDeletePopup:Z}}export{ut as _,ct as u};
